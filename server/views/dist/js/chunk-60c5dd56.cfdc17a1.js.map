{"version":3,"sources":["webpack:///./src/pages/admin/Users.vue?24d4","webpack:///./src/pages/admin/Users.vue?5a95","webpack:///src/pages/admin/Users.vue","webpack:///./src/pages/admin/Users.vue?e919","webpack:///./src/pages/admin/Users.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","$t","attrs","staticClass","on","goToNewUser","$event","filter","ref","usersTableData","perPage","currentPage","fields","scopedSlots","_u","key","fn","data","goToUser","goToUserWithEdit","deleteUser","totalPages","_e","totalItems","model","value","callback","$$v","expression","staticRenderFns","name","metaInfo","computed","label","translateCol","sortable","sortDirection","class","created","methods","$router","push","component"],"mappings":"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","file":"js/chunk-60c5dd56.cfdc17a1.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&scss=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',[_c('h3',[_vm._v(_vm._s(_vm.$t('users.user list')))])])],1),_vm._v(\" \"),_c('b-row',[_c('b-col',{attrs:{\"offset\":\"10\"}},[_c('b-btn',{staticClass:\"align-self-start new-user-btn\",attrs:{\"variant\":\"primary rounded-pill\"},on:{\"click\":_vm.goToNewUser}},[_c('span',{staticClass:\"fas fa-plus-circle\"}),_vm._v(\" \"+_vm._s(_vm.$t('users.add new user')))])],1)],1),_vm._v(\" \"),_c('b-row',[_c('b-col',[_c('b-card',{staticClass:\"mt-2\",attrs:{\"no-body\":\"\"}},[_c('b-card-body',[_c('b-row',[_c('b-col',[_c('b-form-group',[_c('b-input',{staticClass:\"d-inline-block w-auto float-sm-right\",attrs:{\"size\":\"sm\",\"placeholder\":\"Search...\"},on:{\"input\":function($event){return _vm.filter($event)}}})],1)],1)],1),_vm._v(\" \"),_c('b-table',{ref:\"myTable\",staticClass:\"table nexus-table mt-2\",attrs:{\"hover\":\"\",\"borderless\":\"\",\"items\":_vm.usersTableData,\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(details)\",fn:function(data){return [_c('span',{staticClass:\"far fa-user mr-2 text-primary\",attrs:{\"title\":\"View User\"},on:{\"click\":function($event){return _vm.goToUser(data)}}}),_vm._v(\" \"),_c('span',{staticClass:\"far fa-edit mr-2 text-primary\",attrs:{\"title\":\"Edit User\"},on:{\"click\":function($event){return _vm.goToUserWithEdit(data)}}}),_vm._v(\" \"),_c('span',{staticClass:\"fas fa-times text-danger\",attrs:{\"title\":\"Delete User\"},on:{\"click\":function($event){return _vm.deleteUser(data)}}})]}}])}),_vm._v(\" \"),_c('b-row',[_c('b-col',[_c('div',{staticClass:\"col-sm text-sm-left text-center mb-3 mb-sm-0\"},[(_vm.totalPages)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Page \"+_vm._s(_vm.currentPage)+\" of \"+_vm._s(_vm.totalPages))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm\"},[(_vm.totalItems)?_c('b-pagination',{staticClass:\"justify-content-center justify-content-sm-end\",attrs:{\"total-rows\":_vm.totalItems,\"per-page\":_vm.perPage,\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}):_vm._e()],1)])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n      <b-row>\n      <b-col>\n        <h3>{{ $t('users.user list') }}</h3>\n      </b-col>\n    </b-row>\n    <b-row>\n      <b-col offset=\"10\">\n        <b-btn variant=\"primary rounded-pill\" class=\"align-self-start new-user-btn\" @click=\"goToNewUser\"><span class=\"fas fa-plus-circle\"></span> {{ $t('users.add new user')}}</b-btn>\n      </b-col>\n    </b-row>\n  <b-row>\n    <b-col>\n      <b-card class=\"mt-2\" no-body>\n        <b-card-body>\n          <b-row>\n            <b-col>\n              <b-form-group>\n                <b-input size=\"sm\"  placeholder=\"Search...\" class=\"d-inline-block w-auto float-sm-right\" @input=\"filter($event)\" />\n              </b-form-group>\n            </b-col>\n          </b-row>\n\n        <b-table\n          ref=\"myTable\" class=\"table nexus-table mt-2\"  \n                          hover \n                          borderless\n          :items=\"usersTableData\"\n          :per-page=\"perPage\"\n          :current-page=\"currentPage\"\n          :fields=\"fields\">\n          <template #cell(details)=\"data\" class=\"activities-table-buttons\">\n            <span title=\"View User\" class=\"far fa-user mr-2 text-primary\" @click=\"goToUser(data)\"></span>\n            <span title=\"Edit User\" class=\"far fa-edit mr-2 text-primary\" @click=\"goToUserWithEdit(data)\"></span>\n            <span title=\"Delete User\" class=\"fas fa-times text-danger\" @click=\"deleteUser(data)\"></span>\n          </template>\n        </b-table>\n\n        <!-- Pagination -->\n        <b-row>\n          <b-col>\n            <div class=\"col-sm text-sm-left text-center mb-3 mb-sm-0\">\n              <span v-if=\"totalPages\" class=\"text-muted\">Page {{ currentPage }} of {{ totalPages }}</span>\n            </div>\n            <div class=\"col-sm\">\n              <b-pagination v-if=\"totalItems\" v-model=\"currentPage\" class=\"justify-content-center justify-content-sm-end\" :total-rows=\"totalItems\" :per-page=\"perPage\" size=\"sm\" />\n            </div>\n          </b-col>\n        </b-row>\n\n        </b-card-body>\n    </b-card>\n  </b-col>\n</b-row>\n\n</div>\n</template>\n<script>\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport AxiosPlugin from \"vue-axios-cors\";\nimport _ from \"underscore\";\nimport $ from \"jquery\";\nimport loadCustomers from \"@/mixins/loadCustomers\";\nimport VueTypeahead from \"vue-typeahead\";\nimport moment from \"moment\"\nmoment.locale('tr')\n\n\nexport default {\nname: \"admin-users\",\nmetaInfo: {\n  title: \"Users\",\n},\ndata: () => ({\n  value: \"\",\n  usersTableData: [], \n  originalUsersTableData: [], \n  loading: false,\n  editOrigin: false,\n  selectedUsers: [],\n  limit: 5,\n  minChars: 3,\n  address: \"\",\n  customers: [],\n  vin: \"\",\n  showPriceTab: false,\n  economyPrice: 0,\n  standardPrice: 0,\n  expeditedPrice: 0,\n  totalPrice: 0,\n  selectedPrice: 0,\n  quoteId: 0,\n  ownerEmail: \"\",\n  owner: \"\",\n  quotes: [],\n  profit: 0,\n  items: {\n    value: \"\",\n    text: \"\",\n  },\n  striped: false,\n  bordered: false,\n  borderless: false,\n  outlined: true,\n  small: false,\n  hover: true,\n  dark: false,\n  fixed: false,\n  footClone: false,\n  headVariant: 'light',\n  tableVariant: '',\n  noCollapse: false,\n\n  // pagination\n  perPageOptions: [2, 4, 6, 8, 10],\n  perPage: 20,\n  currentPage: 1,\n}),\ncomputed: {\n  fields() { \n    return [ \n      {\n        key: \"order\",\n        label: this.translateCol('user order'),\n        sortable: true,\n        sortDirection: \"desc\",\n        class: \"text-center align-middle\",\n      },\n      {\n        key: \"name\",\n        label: this.translateCol('name surname'),\n        sortable: \"true\",\n        class: \"text-center align-middle\",\n      },\n      {\n        key: 'Email', \n        label: this.translateCol('email'),\n        sortable: true\n      } ,\n      {\n        key: \"userRole\",\n        label: this.translateCol('role'),\n        sortable: true,\n        sortDirection: \"desc\",\n        class: \"text-center align-middle\",\n      },\n      {\n        key: 'Son_Gorulme',\n        sortable: true, \n        label: this.translateCol('last login') \n      }, \n      {\n        key: 'Kullanici_Dili',\n        label: this.translateCol('user language'), \n        sortable: true\n      },\n      {\n        key: \"details\",\n        label: this.translateCol('details'),\n        sortable: \"true\",\n        class: \"text-center align-middle\",\n      },\n    ]\n  },\n  totalItems () {\n    return this.usersTableData.length\n  },\n  totalPages () {\n    return Math.floor(this.totalItems / this.perPage) || (this.totalItems ? 1 : 0)\n  },\n  tableFields () {\n    if (!this.jsonData[0]) return []\n    return Object.keys(this.quotesTableData[0]).map(key => ({\n      key,\n      sortable: this.isSortable\n    }))\n  }\n }, \ncreated() {\n  var vm = this\n\n    axios.get(process.env.VUE_APP_SERVER_URL + '/users/')\n      .then(response => { \n          var data = response.data\n          console.log(data)\n          vm.users = data\n          data.forEach((user, index) => {\n            var tmp_user = {\n              order: index + 1,\n              name: user.firstName + ' ' + user.lastName,\n              userRole:  user.userRole,\n              Email: user.email,\n              Kullanici_Dili: user.defaultLang,\n              Son_Gorulme: moment(user.lastLogin).format('DD/MM/YYYY, h:mm:ss a'),\n              details: user._id\n            }\n            vm.usersTableData.push(tmp_user)\n          })\n          vm.originalUsersTableData = vm.usersTableData\n\n      })\n\n},\nmethods: {\n  translateCol (colName) {\n    return this.$i18n.t('users.' + colName)\n  },\n  goToNewUser() {\n      this.$router.push({ name: 'AdminUserCreate' })\n  },\n  rowSelected(items) {\n    this.selectedUsers = items\n    console.log(items)\n  },\n  clickRows(which) {\n    let myTable = this.$refs.myTable.$el,\n        tableBody = myTable.getElementsByTagName('tbody')[0],\n        tableRows = tableBody.getElementsByTagName('tr')\n    which.forEach(idx => {\n      tableRows[idx].click()\n    })\n  },\n  totalPriceCalc() {\n    var vm = this;\n    return Number(vm.profit) + Number(vm.selectedPrice);\n  },\n  updateQuery() {\n    this.query = this.value;\n    this.update();\n  },\n  onHit(item) {\n    this.value = item.screen_name;\n    this.reset();\n  },\n  resetInput() {\n    this.value = \"\";\n    this.reset();\n  },\n  showDetails() {\n    return true;  \n  },\n  myRowClickHandler(record, index) {\n    // 'record' will be the row data from items\n    // `index` will be the visible row number (available in the v-model 'shownItems')\n    //console.log(record); // This will be the item data for the row\n    console.log(record)\n    this.selectedQuote = record\n  },\n  reset () {\n    this.item = {}\n  },\n  goToUser(data) {\n    console.log(data)\n    this.$router.push({ name: 'AdminUser', params: { id: data.item.details} })\n  },\n  goToUserWithEdit(data) {\n    console.log(data)\n    data.item.details += '~'\n    data.item.details += 'edit'\n    this.$router.push({ name: 'AdminUser', params: { id: data.item.details} })\n  },\n  filter (value) {\n    const val = value.toLowerCase()\n    console.log(value)\n\n    // filter our data\n    const filtered = this.originalUsersTableData.filter(d => {\n      // Concat data\n      return Object.keys(d)\n        .map(k => String(d[k]))\n        .join('|')\n        .toLowerCase()\n        .indexOf(val) !== -1 || !val\n    })\n    // update the rows\n    this.usersTableData = filtered\n  } \n}\n}\n</script>\n\n<style scss>\n\ntable > tbody > .table-active > td {\n    background-color: #FFD950 !important;\n    box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.07), 0px 4px 5px 0px rgba(0, 0, 0, 0.05), 0px 1px 10px 0px rgba(0, 0, 0, 0.03);\n    color: #665720;\n}\n\n.new-user-btn {\n  margin-bottom: 1.5rem;\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=44a907de&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&scss=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}