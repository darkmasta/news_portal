(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-069877c0"],{"04bf":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),e._v(" "),t("div",{staticClass:"activity_item_center"},[t("img",{attrs:{src:e.ad.adImage}}),e._v(" "),t("h4",[e._v(e._s(e.ad.adTitle))])]),e._v(" "),t("div",{staticClass:"col-lg-12 mb-4"},[t("b-card",{attrs:{title:"Reklam G√ºncelle"}},[t("b-card-body",[t("b-row",[t("b-col",[t("b-form-group",{attrs:{label:"Reklam Ba≈ülƒ±ƒüƒ±"}},[t("b-input",{attrs:{label:"Reklam Ba≈ülƒ±ƒüƒ±",placeholder:"Ba≈ülƒ±k"},model:{value:e.ad.adTitle,callback:function(a){e.$set(e.ad,"adTitle",a)},expression:"ad.adTitle"}})],1)],1),e._v(" "),t("b-col",[t("b-form-group",{attrs:{label:"Reklam Sayfasƒ±"}},[t("b-select",{staticClass:"mb-4",model:{value:e.ad.adType,callback:function(a){e.$set(e.ad,"adType",a)},expression:"ad.adType"}},e._l(e.adTypeList,(function(a,i){return t("option",{key:i,domProps:{value:a}},[e._v(" \n                    "+e._s(e.ad.adType)+"\n                  ")])})),0)],1)],1),e._v(" "),t("b-col",[t("b-form-group",{attrs:{label:"Reklam Dili"}},[t("b-select",{model:{value:e.ad.adLanguage,callback:function(a){e.$set(e.ad,"adLanguage",a)},expression:"ad.adLanguage"}},e._l(e.languages,(function(a,i){return t("option",{key:i,domProps:{value:a}},[e._v(" \n                      "+e._s(a)+"\n                  ")])})),0)],1)],1)],1),e._v(" "),t("b-row",[t("b-col",[t("b-form-group",{attrs:{label:"Reklam Linki"}},[t("b-input",{attrs:{label:"Reklam Linki",placeholder:"Link"},model:{value:e.ad.link,callback:function(a){e.$set(e.ad,"link",a)},expression:"ad.link"}})],1)],1),e._v(" "),t("b-col",[t("b-form-group",{attrs:{label:"Reklam Konumu"}},[t("b-select",{staticClass:"mb-4",model:{value:e.adLocation,callback:function(a){e.adLocation=a},expression:"adLocation"}},e._l(e.adLocationList,(function(a,i){return t("option",{key:i,domProps:{value:a}},[e._v(" \n                    "+e._s(a)+"\n                  ")])})),0)],1)],1),e._v(" "),t("b-col",[t("b-form-group",{attrs:{label:"Reklam Durumu"}},[t("b-select",{staticClass:"mb-4",model:{value:e.ad.status,callback:function(a){e.$set(e.ad,"status",a)},expression:"ad.status"}},e._l(e.adStatusList,(function(a,i){return t("option",{key:i,domProps:{value:a}},[e._v(" \n                    "+e._s(e.ad.status)+"\n                  ")])})),0)],1)],1)],1),e._v(" "),t("b-row",[t("b-col",{attrs:{cols:"12"}},[t("div",{staticClass:"upload-example"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.image,expression:"image"}]},[t("cropper",{ref:"cropper",attrs:{src:e.image}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.image,expression:"image"}],staticClass:"reset-button",attrs:{title:"Reset Image"},on:{click:function(a){return e.reset()}}},[t("i",{staticClass:"fa fa-times"})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.image,expression:"image"}],staticClass:"img-name-text",attrs:{title:"Image Name"}},[e._v("\n                  "+e._s(e.imageName)+"\n                ")]),e._v(" "),t("b-col",{attrs:{cols:"6",offset:"3"}},[t("div",{staticClass:"img-name"},[t("b-form-group",{attrs:{label:"G√∂rsel ƒ∞smi"}},[t("b-form-input",{attrs:{placeholder:"G√∂rsel ƒ∞smi"},model:{value:e.imageName,callback:function(a){e.imageName=a},expression:"imageName"}})],1)],1)]),e._v(" "),t("div",{staticClass:"button-wrapper"},[t("span",{staticClass:"button",on:{click:function(a){return e.$refs.file.click()}}},[t("input",{ref:"file",attrs:{type:"file",accept:"image/*"},on:{change:function(a){return e.loadImage(a)}}}),e._v("\n                  G√∂rsel Ekle\n                ")]),e._v(" "),t("span",{staticClass:"button ml-5",on:{click:e.crop}},[e._v("\n                  Kƒ±rp\n                ")]),e._v(" "),t("label",{staticClass:"switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.toggleEditImage,expression:"toggleEditImage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.toggleEditImage)?e._i(e.toggleEditImage,null)>-1:e.toggleEditImage},on:{change:function(a){var t=e.toggleEditImage,i=a.target,n=!!i.checked;if(Array.isArray(t)){var s=null,o=e._i(t,s);i.checked?o<0&&(e.toggleEditImage=t.concat([s])):o>-1&&(e.toggleEditImage=t.slice(0,o).concat(t.slice(o+1)))}else e.toggleEditImage=n}}}),e._v(" "),t("span",{staticClass:"slider round"}),e._v(" "),t("span",{staticClass:"switch_text",class:{switch_closed:e.toggleEditImage}},[e._v("Resmi Duzenle")])])])],1)])],1),e._v(" "),t("b-row",[t("b-col",{staticClass:"offset-10"},[t("b-btn",{staticClass:"font-weight-bold save-order mt-4",attrs:{variant:"primary"},on:{click:e.submitAd}},[e._v("Reklam Ekle")])],1)],1)],1)],1)],1)])},n=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("h4",{staticClass:"font-weight-bold py-3 mb-1"},[t("span",{staticClass:"text-muted font-weight-light"},[e._v("Reklam G√ºncelle")])])])])}],s=t("ade3"),o=(t("d3b7"),t("2b3d"),t("3ca3"),t("ddb0"),t("bc3a")),l=t.n(o),r=(t("c46f"),t("a2c1")),c=(t("f7aa"),t("fa33")),d=t("97fc"),u=t.n(d),m=(t("1e11"),{name:"ad",components:{Cropper:r["a"],Datepicker:c["a"],VueTimepicker:u.a},data:function(){var e;return e={languages:["Turkce üáπüá∑","Ingilizce üá¨üáß","Fransizca üá´üá∑","Arapca üá∏üá¶","Ukraynaca üá∫üá¶","Hepsi üåç"],ad:{adImage:""},adLanguage:"",expandTab:"",publishDate:"",publishHour:"",statusList:["Onay Bekliyor","Onaylƒ±","Red"],activityTypeList:["Konferans","Panel","S√∂yle≈üi"],activityType:"",status:"",toggleEditImage:!1,imageName:"",image:null,startDate:null,endDate:null,coordinates:{width:0,height:0,left:0,top:0},result:{coordinates:null,image:null},adName:"",adTitle:"",adImage:"",adTypeList:["Ana Sayfa","Haber Detay","Diger"],adType:"",adLocationList:["Ana Sayfa Ust Sag","Ana Sayfa Ust Sol","Haber Detay 1","Haber Detay  2"],adLocation:"",adStatusList:["Aktif","Pasif","Beklemede","Vakti Gecti"],adStatus:"",adLink:""},Object(s["a"])(e,"startDate",null),Object(s["a"])(e,"endDate",null),Object(s["a"])(e,"imageName",""),Object(s["a"])(e,"image",null),Object(s["a"])(e,"base64",""),Object(s["a"])(e,"views",0),Object(s["a"])(e,"toggleEditImage",!1),e},created:function(){var e=this,a={};a.id=e.$route.params.id,e.id=a.id,l.a.post("https://defensehere.herokuapp.com/get_ad",{data:a}).then((function(a){console.log(a.data),e.ad=a.data,e.imageName=a.data.adImage,e.adType=a.data.adType,e.ad.adTitle=a.data.adName,e.views=a.data.views,e.ad.adImage="https://defensehere.herokuapp.com/images/"+a.data.adImage,e.status="unconfirmed"==a.data.status?"Onay Bekliyor":"Onaylƒ±"}),(function(e){console.error(e)}))},methods:{submitAd:function(){var e=this,a=this.$refs.cropper.getResult(),t=(a.coordinates,a.canvas);if(t)if(e.imageName)if(e.ad.adTitle){if(t){new FormData;t.toBlob((function(a){e.blobToBase64(a).then((function(a){var t=new FormData;t.append("file",a),t.append("fileName",e.imageName),t.append("owner",e.owner),t.append("adTitle",e.ad.adTitle),t.append("adType",e.adType),t.append("status",""),t.append("id",e.id),console.log(t),l.a.post("https://defensehere.herokuapp.com/update_ad/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){var t=a.data;console.log(t),"success"==a.data&&e.$notify({type:"success",text:"Etkinlik Guncellendi!"})}))}))}),"image/jpeg")}}else e.$notify({type:"warn",text:"Lutfen Reklam Ismini Kontrol Ediniz!",duration:3e3});else e.$notify({type:"warn",text:"Lutfen Reklam Resim Ismini Kontrol Ediniz!",duration:3e3});else e.$notify({type:"warn",text:"Lutfen Reklam Resmini Kontrol Ediniz!",duration:3e3})},crop:function(){var e=this.$refs.cropper.getResult(),a=e.coordinates,t=e.canvas;this.coordinates=a,this.image=t.toDataURL()},reset:function(){this.image=null},getImage:function(){var e=this;fetch("https://defensehere.herokuapp.com/images/"+e.imageName).then((function(e){return e.blob()})).then((function(a){var t=URL.createObjectURL(a),i=new Image;i.src=t,e.image=i.src}))},loadImage:function(e){var a=this,t=e.target;if(t.files&&t.files[0]){var i=new FileReader;i.onload=function(e){a.image=e.target.result,a.base64=a.image},i.readAsDataURL(t.files[0])}},blobToBase64:function(e){var a=new FileReader;return a.readAsDataURL(e),new Promise((function(e){a.onloadend=function(){e(a.result)}}))},confirmAd:function(){var e=this,a={id:e.id};l.a.post("https://defensehere.herokuapp.com/confirm_ad/",{data:a}).then((function(a){console.log(a.data),"success"==a.data&&(e.$notify({type:"success",text:"Reklam Onaylandi!"}),e.ad.status="confirmed")}))},unconfirmAd:function(){var e=this,a={id:e.id};l.a.post("https://defensehere.herokuapp.com/unconfirm_ad/",{data:a}).then((function(a){console.log(a.data),"success"==a.data&&(e.$notify({type:"error",text:"Reklam Reddedildi!"}),e.ad.status="unconfirmed")}))},deleteAd:function(){var e=this,a={id:e.id};l.a.post("https://defensehere.herokuapp.com/delete_ad/",{data:a}).then((function(a){console.log(a.data),"success"==a.data&&e.$notify({type:"error",text:"Reklam Silindi!"})}))}}}),p=m,f=(t("e1a4"),t("2877")),g=Object(f["a"])(p,i,n,!1,null,null,null);a["default"]=g.exports},"1ded":function(e,a,t){},ade3:function(e,a,t){"use strict";function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",(function(){return i}))},e1a4:function(e,a,t){"use strict";t("1ded")}}]);
//# sourceMappingURL=chunk-069877c0.d4d0baf5.js.map