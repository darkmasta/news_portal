(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02ada482"],{"41e9":function(e,t,s){},5530:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s("4de4"),s("e439"),s("159b"),s("dbb4");var a=s("ade3");function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},ade3:function(e,t,s){"use strict";function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,"a",(function(){return a}))},def3:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",[s("b-col",{staticClass:"d-flex justify-content-between "},[s("div",{staticClass:"page-header"},[s("h4",[e._v("Quote List")]),e._v(" "),s("span",[e._v("Hello "+e._s(e.user.firstName)+", welcome back!")])]),e._v(" "),s("b-btn",{staticClass:"align-self-start",attrs:{variant:"primary rounded-pill",to:"/quotes/create"}},[s("span",{staticClass:"fas fa-plus-circle"}),e._v(" Create Quote")])],1)],1),e._v(" "),s("b-row",[s("b-col",[s("b-table",{staticClass:"table nexus-table",attrs:{hover:"","select-mode":"multi",items:e.quotesTableData,fields:e.tableFields,selectable:"",borderless:"","current-page":1,"per-page":10},on:{"row-clicked":e.goToQuote},scopedSlots:e._u([{key:"head(selected)",fn:function(){return[s("b-form-checkbox",{staticClass:"ml-2 mt-2"},[e._v("All")])]},proxy:!0},{key:"cell(origin_destination)",fn:function(t){return[s("span",[e._v(e._s(t.item.origin))]),s("br"),e._v(" "),s("span",[e._v(e._s(t.item.destination))]),s("br"),e._v(" "),s("span",[e._v("Route Map")])]}},{key:"cell(selected)",fn:function(t){return[s("b-form-checkbox",{staticClass:"ml-2 mt-2",attrs:{value:t.item.rowSelected},model:{value:t.rowSelected,callback:function(s){e.$set(t,"rowSelected",s)},expression:"data.rowSelected"}})]}},{key:"cell(status)",fn:function(t){return["book-now"==t.item.status?[s("b-btn",{attrs:{variant:"primary",size:"sm"}},[e._v("Book Now")])]:e._e(),e._v(" "),"expired"==t.item.status?[e._v("\n            Expired "),s("i",{staticClass:"fas fa-edit"})]:e._e()]}},{key:"cell(details)",fn:function(){return[s("i",{staticClass:"fas fa-ellipsis-h table-details"})]},proxy:!0}])})],1)],1),e._v(" "),s("b-row",[s("b-col",[s("div",{staticClass:"col-sm text-sm-left text-center mb-3 mb-sm-0"},[e.totalPages?s("span",{staticClass:"text-muted"},[e._v("Page "+e._s(e.currentPage)+" of "+e._s(e.totalPages))]):e._e()]),e._v(" "),s("div",{staticClass:"col-sm"},[e.totalItems?s("b-pagination",{staticClass:"justify-content-center justify-content-sm-end",attrs:{"total-rows":e.totalItems,"per-page":e.perPage,size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)])],1)],1)},i=[],o=s("5530"),r=(s("159b"),s("fb6a"),s("a9e3"),s("2b0e")),n=s("bc3a"),l=s.n(n),c=s("049c"),u=s.n(c),d=(s("c46f"),s("1157"),s("0969")),f=(s("ff5a"),s("c1df")),b=s.n(f),p=s("2f62");s("41e9");r["default"].use(l.a),l.a.defaults.withCredentials=!0,r["default"].use(u.a),r["default"].prototype.$http=l.a;var m={name:"quotes",metaInfo:{title:"Quotes"},data:function(){return{tableFields:[{key:"selected",class:"text-center align-middle"},{key:"id",label:"ID",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"date",label:"Date",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"vehicle",label:"Vehicle",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"origin_destination",label:"Origin/Destination",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"tariff",label:"Tariff",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"status",label:"Status",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"details",sortable:!0,sortDirection:"desc",class:"text-center align-middle"}],selectedRows:[],perPageOptions:[10,20,30,40,50],perPage:10,currentPage:1,value:"",quotesTableData:[],originalQuotesTableData:[],loading:!1,editOrigin:!1,selectedQuotes:[],limit:5,minChars:3,zipCode:"",city:"",state:"",dZipCode:"",dCity:"",dState:"",year:null,carModel:"",make:"",address:"",customers:[],vin:"",showPriceTab:!1,economyPrice:0,standardPrice:0,expeditedPrice:0,totalPrice:0,selectedPrice:0,quoteId:0,ownerEmail:"",owner:"",prices:[{text:"Economy",value:"0"},{text:"Standard",value:"1"},{text:"Expedited",value:"2"}],selectedPriceOption:"",profit:0,items:{value:"",text:""},striped:!1,bordered:!1,borderless:!1,outlined:!0,small:!1,hover:!0,dark:!1,fixed:!1,footClone:!1,headVariant:"light",tableVariant:"",noCollapse:!1}},mixins:[d["a"]],components:{},mounted:function(){var e=this;this.$nextTick((function(){var t=e,s=e.user;console.log(s),t.profit=s.defaultProfit,t.city=s.city,t.state=s.state,t.zipCode=s.zip}))},created:function(){var e=this;this.$nextTick((function(){e.getQuotes(),e.fetchUser()})),this.quotes.forEach((function(t){var s={id:t._id.slice(-4),date:b()(t.date).fromNow(),vehicle:t.vin,origin:t.originZipCode,destination:t.destinationZipCode,tariff:"$"+t.price,status:"expired"};e.quotesTableData.push(s)})),e.originalQuotesTableData=e.quotesTableData,console.log(this.quotes)},events:{click:function(e){console.log(e)}},methods:Object(o["a"])(Object(o["a"])({},Object(p["b"])(["getCustomers","getQuotes","fetchUser"])),{},{goToQuote:function(e){var t=this,s=[];console.log(e),t.quotes.forEach((function(t){t._id.slice(-4)==e.id&&s.push(t)})),1==s.length&&this.$router.push({name:"Quote",params:{id:s[0]._id}})},createOrder:function(){console.log(this.selectedQuote)},saveSelectedQuotes:function(e){var t=this,s=[];e.forEach((function(e){t.quotes.forEach((function(t){t._id.slice(-4)==e.Id&&s.push(t)}))})),this.$store.commit("setSelectedQuotes",s),this.$router.push("orders")},rowSelected:function(e){this.selectedQuote=e,console.log(e)},clickRows:function(e){var t=this.$refs.myTable.$el,s=t.getElementsByTagName("tbody")[0],a=s.getElementsByTagName("tr");e.forEach((function(e){a[e].click()})),console.log("items")},totalPriceCalc:function(){var e=this;return Number(e.profit)+Number(e.selectedPrice)},updateQuery:function(){this.query=this.value,this.update()},onHit:function(e){this.value=e.screen_name,this.reset()},resetInput:function(){this.value="",this.reset()},showDetails:function(){return!0},myRowClickHandler:function(e,t){console.log(e),this.selectedQuote=e},reset:function(){this.item={}}}),computed:Object(o["a"])(Object(o["a"])({},Object(p["c"])({quotes:"allQuotes",user:"getUser"})),{},{totalItems:function(){return this.quotesTableData.length},totalPages:function(){return Math.floor(this.totalItems/this.perPage)||(this.totalItems?1:0)}})},h=m,g=s("2877"),v=Object(g["a"])(h,a,i,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-02ada482.aa82832d.js.map