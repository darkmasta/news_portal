{"version":3,"sources":["webpack:///./src/pages/admin/Orders.vue?9e2f","webpack:///src/pages/admin/Orders.vue","webpack:///./src/pages/admin/Orders.vue?df7b","webpack:///./src/pages/admin/Orders.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","on","$event","filter","ref","striped","bordered","borderless","outlined","small","hover","dark","fixed","footClone","noCollapse","ordersTableData","fields","headVariant","tableVariant","rowSelected","selectedOrders","length","staticStyle","goToOrder","_e","staticRenderFns","a","name","metaInfo","title","data","value","originalOrdersTableData","loading","src","limit","minChars","zipCode","city","state","dZipCode","dCity","dState","year","carModel","make","address","customers","ownerEmail","owner","orders","quotes","prices","selected","options","selectedPriceOption","profit","items","text","shipperInfo","shipper","email","address1","address2","firstName","lastName","phone","mobile","zip","company","pickupInfo","contact","buyerNumber","deliveryInfo","mounted","vm","created","methods","console","log","clickRows","which","forEach","tableRows","idx","click","component"],"mappings":"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","file":"js/chunk-6bde5822.668ee5de.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',[_c('h3',[_vm._v(\"Admin Orders\")])])],1),_vm._v(\" \"),_c('b-row',[_c('b-col',[_c('b-card',{staticClass:\"mt-2\",attrs:{\"no-body\":\"\"}},[_c('b-card-body',[_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"}),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('b-form-group',[_c('b-input',{staticClass:\"d-inline-block w-auto float-sm-right\",attrs:{\"size\":\"sm\",\"placeholder\":\"Search...\"},on:{\"input\":function($event){return _vm.filter($event)}}})],1)],1)]),_vm._v(\" \"),_c('b-table',{ref:\"myTable\",attrs:{\"selectable\":\"\",\"striped\":_vm.striped,\"bordered\":_vm.bordered,\"borderless\":_vm.borderless,\"outlined\":_vm.outlined,\"small\":_vm.small,\"hover\":_vm.hover,\"dark\":_vm.dark,\"fixed\":_vm.fixed,\"foot-clone\":_vm.footClone,\"no-border-collapse\":_vm.noCollapse,\"items\":_vm.ordersTableData,\"fields\":_vm.fields,\"head-variant\":_vm.headVariant,\"table-variant\":_vm.tableVariant},on:{\"row-selected\":_vm.rowSelected}}),_vm._v(\" \"),(_vm.selectedOrders.length == 1)?_c('b-btn',{staticClass:\"p-3 px-5 mt-4\",staticStyle:{\"float\":\"right\",\"margin-left\":\"25px\"},attrs:{\"size\":\"lg\",\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.goToOrder()}}},[_vm._v(\"Edit Selected Order!\")]):_vm._e()],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-row>\n      <b-col>\n        <h3>Admin Orders</h3>\n      </b-col>\n    </b-row>\n\n    <b-row>\n      <b-col>\n        <b-card class=\"mt-2\" no-body>\n          <b-card-body>\n            <div>\n              <div class=\"row\">\n                <div class=\"col\"></div>\n                <div class=\"col\">\n                  <b-form-group>\n                    <b-input\n                      size=\"sm\"\n                      placeholder=\"Search...\"\n                      class=\"d-inline-block w-auto float-sm-right\"\n                      @input=\"filter($event)\"\n                    />\n                  </b-form-group>\n                </div>\n              </div>\n              <b-table\n                selectable\n                :striped=\"striped\"\n                :bordered=\"bordered\"\n                :borderless=\"borderless\"\n                :outlined=\"outlined\"\n                :small=\"small\"\n                :hover=\"hover\"\n                :dark=\"dark\"\n                :fixed=\"fixed\"\n                :foot-clone=\"footClone\"\n                :no-border-collapse=\"noCollapse\"\n                :items=\"ordersTableData\"\n                :fields=\"fields\"\n                :head-variant=\"headVariant\"\n                :table-variant=\"tableVariant\"\n                @row-selected=\"rowSelected\"\n                ref=\"myTable\"\n              >\n              </b-table>\n\n              <b-btn\n                class=\"p-3 px-5 mt-4\"\n                size=\"lg\"\n                variant=\"warning\"\n                style=\"float: right; margin-left: 25px\"\n                v-if=\"selectedOrders.length == 1\"\n                @click=\"goToOrder()\"\n                >Edit Selected Order!</b-btn\n              >\n            </div>\n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n<script>\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport AxiosPlugin from \"vue-axios-cors\";\nimport _ from \"underscore\";\nimport $ from \"jquery\";\nimport loadCustomers from \"@/mixins/loadCustomers\";\nimport VueTypeahead from \"vue-typeahead\";\nimport moment from \"moment\";\n\nVue.use(axios);\n\naxios.defaults.withCredentials = true;\nVue.use(AxiosPlugin);\nVue.use(require(\"vue-moment\"));\n\n// Set up $hhtp client (required by vue-typeahead)\nVue.prototype.$http = axios;\n\nimport \"vue-search-select/dist/VueSearchSelect.css\";\n\nexport default {\n  name: \"orders\",\n  metaInfo: {\n    title: \"Orders\",\n  },\n  data() {\n    return {\n      value: \"\",\n      fields: [\n        { key: \"Id\", sortable: true },\n        { key: \"Date\", sortable: true },\n        { key: \"Vehicle\", sortable: true },\n        { key: \"Tariff\", sortable: true },\n        { key: \"Origin_Destination\", sortable: true },\n        { key: \"Status\", sortable: true },\n      ],\n      ordersTableData: [],\n      originalOrdersTableData: [],\n      selectedOrders: [],\n      loading: false,\n      src: \"https://typeahead-js-twitter-api-proxy.herokuapp.com/demo/search\",\n      limit: 5,\n      minChars: 3,\n      zipCode: \"\",\n      city: \"\",\n      state: \"\",\n      dZipCode: \"\",\n      dCity: \"\",\n      dState: \"\",\n      year: null,\n      carModel: \"\",\n      make: \"\",\n      address: \"\",\n      customers: [],\n      ownerEmail: \"\",\n      owner: \"\",\n      orders: [],\n      quotes: [],\n      prices: [\n        { text: \"Economy\", value: \"0\" },\n        { text: \"Standard\", value: \"1\" },\n        { text: \"Expedited\", value: \"2\" },\n      ],\n      selected: null,\n      options: [\n        { value: null, text: \"New Contact\" },\n        { value: \"0\", text: \"Contact 1\" },\n        { value: \"1\", text: \"Contact 2\" },\n      ],\n      selectedPriceOption: \"\",\n      profit: 300,\n      items: {\n        value: \"\",\n        text: \"\",\n      },\n      striped: false,\n      bordered: false,\n      borderless: false,\n      outlined: true,\n      small: false,\n      hover: true,\n      dark: false,\n      fixed: false,\n      footClone: false,\n      headVariant: \"light\",\n      tableVariant: \"\",\n      noCollapse: false,\n      shipperInfo: {\n        shipper: \"\",\n        email: \"\",\n        address1: \"\",\n        address2: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        phone: \"\",\n        mobile: \"\",\n        city: \"\",\n        zip: 0,\n        company: \"\",\n      },\n      pickupInfo: {\n        address1: \"\",\n        address2: \"\",\n        contact: \"\",\n        phone: \"\",\n        mobile: \"\",\n        city: \"\",\n        zip: 0,\n        buyerNumber: \"\",\n        company: \"\",\n      },\n      deliveryInfo: {\n        address1: \"\",\n        address2: \"\",\n        contact: \"\",\n        phone: \"\",\n        mobile: \"\",\n        city: \"\",\n        zip: 0,\n        buyerNumber: \"\",\n        company: \"\",\n      },\n    };\n  },\n  mounted() {\n    var vm = this;\n\n    axios.get(process.env.VUE_APP_SERVER_URL + \"/get_orders\").then(\n      (response) => {\n        var orders = response.data;\n        vm.orders = orders;\n        var data = response.data;\n        console.log(data);\n        data.forEach((order) => {\n          var tmp_order = {\n            Id: order._id.slice(-4),\n            Date: moment(order.date).fromNow(),\n            Origin_Destination:\n              order.pickupInfo.zip + \" -> \" + order.deliveryInfo.zip,\n            Vehicle: \"----\",\n            Tariff: order.cost,\n            Status: \"active\",\n          };\n          vm.ordersTableData.push(tmp_order);\n        });\n        vm.originalOrdersTableData = vm.ordersTableData;\n      },\n      (response) => {\n        console.log(response);\n      }\n    );\n  },\n  created() {\n    var vm = this;\n\n    axios.get(process.env.VUE_APP_SERVER_URL + \"/user\").then(\n      (response) => {\n        var userData = response.data;\n        console.log(userData);\n        vm.profit = userData.defaultProfit;\n        vm.owner = userData._id;\n        vm.ownerEmail = userData.email;\n      },\n      (response) => {\n        console.log(response);\n      }\n    );\n  },\n  methods: {\n    goToOrder() {\n      var vm = this\n        var orderData = []\n        vm.selectedOrders.forEach( selectedOrder => {\n          vm.orders.forEach( order => {\n            if (order._id.slice(-4) == selectedOrder.Id) {\n              orderData.push(order)\n            }\n          })\n        })\n        if (orderData.length == 1) {\n          this.$router.push({ name: 'AdminOrder', params: { id: orderData[0]._id } })\n        }\n    },\n    rowSelected(items) {\n      this.selectedOrders = items;\n      console.log(items);\n    },\n    clickRows(which) {\n      let myTable = this.$refs.myTable.$el,\n        tableBody = myTable.getElementsByTagName(\"tbody\")[0],\n        tableRows = tableBody.getElementsByTagName(\"tr\");\n      which.forEach((idx) => {\n        tableRows[idx].click();\n      });\n      console.log(\"items\");\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=04ac7d62&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}