(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-069877c0"],{"04bf":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a._m(0),a._v(" "),e("div",{staticClass:"activity_item_center"},[e("img",{attrs:{src:a.ad.adImage}}),a._v(" "),e("h4",[a._v(a._s(a.ad.adTitle))])]),a._v(" "),e("div",{staticClass:"nav-tabs-left"},[e("ul",{staticClass:"nav nav-tabs"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"adInfo"==a.expandTab},attrs:{"data-toggle":"tab",href:"#"},on:{click:function(t){a.expandTab="adInfo"}}},[a._v("Reklam Bilgileri")])]),a._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"adImage"==a.expandTab},attrs:{"data-toggle":"tab",href:"#"},on:{click:function(t){a.expandTab="adImage"}}},[a._v("Reklam Resmi")])]),a._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"adOperations"==a.expandTab},attrs:{"data-toggle":"tab",href:"#"},on:{click:function(t){a.expandTab="adOperations"}}},[a._v("Reklam Onay/Red")])])]),a._v(" "),e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane fade",class:{active:"adInfo"==a.expandTab,show:"adInfo"==a.expandTab},attrs:{id:"navs-left-home"}},[e("div",[e("b-row",[e("b-col",{staticClass:"offset-1",attrs:{cols:"5"}},[e("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Reklam Ekleyen"}},[e("b-form-input",{attrs:{disabled:""},model:{value:a.ad.owner,callback:function(t){a.$set(a.ad,"owner",t)},expression:"ad.owner"}})],1)],1)],1),a._v(" "),e("b-row",[e("b-col",{staticClass:"offset-1",attrs:{cols:"5"}},[e("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Reklam Basligi"}},[e("b-form-input",{model:{value:a.ad.adTitle,callback:function(t){a.$set(a.ad,"adTitle",t)},expression:"ad.adTitle"}})],1)],1),a._v(" "),e("b-col",{staticClass:"activity_status",attrs:{cols:"5"}},[e("b-form-group",{attrs:{label:"Reklam Turu"}},[e("b-select",{model:{value:a.adType,callback:function(t){a.adType=t},expression:"adType"}},a._l(a.adTypeList,(function(t,s){return e("option",{key:s,domProps:{value:t}},[a._v(" \n                  "+a._s(t)+"\n              ")])})),0)],1)],1)],1),a._v(" "),e("b-row",{},[e("b-col",{staticClass:"offset-1",attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:"Reklam Durumu"}},[e("b-select",{model:{value:a.status,callback:function(t){a.status=t},expression:"status"}},a._l(a.statusList,(function(t,s){return e("option",{key:s,domProps:{value:t}},[a._v(" \n                    "+a._s(t)+"\n                ")])})),0)],1)],1),a._v(" "),e("b-col",{attrs:{cols:"7"}},[e("b-form-group",{attrs:{label:"Görüntülenme"}},[e("b-input-group",{attrs:{prepend:"Görüntülenme"}},[e("b-form-input",{attrs:{disabled:""},model:{value:a.views,callback:function(t){a.views=t},expression:"views"}})],1)],1)],1)],1)],1)]),a._v(" "),e("div",{staticClass:"tab-pane fade",class:{active:"adImage"==a.expandTab,show:"adImage"==a.expandTab},attrs:{id:"navs-left-home"}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-col",{staticClass:"offset-5 mt-3 kategoriler",attrs:{cols:"6"}},[e("h3",[a._v("Reklam Resmi")])]),a._v(" "),e("div",{staticClass:"upload-example"},[e("div",[e("cropper",{ref:"cropper",attrs:{src:a.image,transitions:!0}})],1),a._v(" "),e("div",{staticClass:"reset-button",attrs:{title:"Reset Image"},on:{click:function(t){return a.reset()}}},[e("i",{staticClass:"fa fa-times"})]),a._v(" "),e("div",{staticClass:"get-image-button",attrs:{title:"Get Image"},on:{click:function(t){return a.getImage()}}},[e("i",{staticClass:"fas fa-download"})]),a._v(" "),e("div",{staticClass:"img-name-text",attrs:{title:"Image Name"}},[a._v("\n            "+a._s(a.imageName)+"\n          ")]),a._v(" "),e("b-col",{attrs:{cols:"6",offset:"3"}},[e("div",{staticClass:"img-name"},[e("b-form-group",{attrs:{label:"Foto Ismi"}},[e("b-form-input",{attrs:{placeholder:"Foto Ismi"},model:{value:a.imageName,callback:function(t){a.imageName=t},expression:"imageName"}})],1)],1)]),a._v(" "),e("div",{staticClass:"button-wrapper"},[e("span",{staticClass:"button",on:{click:function(t){return a.$refs.file.click()}}},[e("input",{ref:"file",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return a.loadImage(t)}}}),a._v("\n            Resim Yükle\n          ")]),a._v(" "),e("span",{staticClass:"button ml-5",on:{click:a.crop}},[a._v("\n           Kırp \n          ")]),a._v(" "),e("label",{staticClass:"switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.toggleEditImage,expression:"toggleEditImage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.toggleEditImage)?a._i(a.toggleEditImage,null)>-1:a.toggleEditImage},on:{change:function(t){var e=a.toggleEditImage,s=t.target,i=!!s.checked;if(Array.isArray(e)){var n=null,o=a._i(e,n);s.checked?o<0&&(a.toggleEditImage=e.concat([n])):o>-1&&(a.toggleEditImage=e.slice(0,o).concat(e.slice(o+1)))}else a.toggleEditImage=i}}}),a._v(" "),e("span",{staticClass:"slider round"}),a._v(" "),e("span",{staticClass:"switch_text",class:{switch_closed:a.toggleEditImage}},[a._v("Resmi Düzenle")])])])],1)],1)],1)],1),a._v(" "),e("div",{staticClass:"tab-pane fade",class:{active:"adOperations"==a.expandTab,show:"adOperations"==a.expandTab},attrs:{id:"navs-left-home"}},[e("div",{staticClass:"activity-operations-buttons"},["unconfirmed"==a.ad.status?e("b-btn",{staticClass:"font-weight-bold save-order mt-4",attrs:{variant:"primary"},on:{click:a.confirmAd}},[a._v("Etkinligi Onayla")]):a._e(),a._v(" "),"confirmed"==a.ad.status?e("b-btn",{staticClass:"font-weight-bold save-order mt-4",attrs:{variant:"primary"},on:{click:a.unconfirmAd}},[a._v("Etkinligi Reddet")]):a._e(),a._v(" "),e("b-btn",{staticClass:"font-weight-bold save-order mt-4",attrs:{variant:"primary"},on:{click:a.deleteAd}},[a._v("Reklamı Sil")])],1)])])]),a._v(" "),e("b-row",[e("b-col",{staticClass:"offset-10"},[e("b-btn",{staticClass:"font-weight-bold save-order mt-4",attrs:{variant:"primary"},on:{click:a.submitAd}},[a._v("Reklamı Güncelle")])],1)],1)],1)},i=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("h4",{staticClass:"font-weight-bold py-3 mb-1"},[e("span",{staticClass:"text-muted font-weight-light"},[a._v("Reklam Güncelle")])])])])}],n=e("ade3"),o=(e("d3b7"),e("2b3d"),e("3ca3"),e("ddb0"),e("bc3a")),l=e.n(o),r=(e("c46f"),e("a2c1")),c=(e("f7aa"),e("fa33")),d=e("97fc"),m=e.n(d),u=(e("1e11"),{name:"Ad",components:{Cropper:r["a"],Datepicker:c["a"],VueTimepicker:m.a},data:function(){var a;return a={ad:{adImage:""},expandTab:"",publishDate:"",publishHour:"",statusList:["Onay Bekliyor","Onaylı","Red"],activityTypeList:["Konferans","Panel","Söyleşi"],activityType:"",status:"",toggleEditImage:!1,imageName:"",image:null,startDate:null,endDate:null,coordinates:{width:0,height:0,left:0,top:0},result:{coordinates:null,image:null},adName:"",adTitle:"",adImage:"",adTypeList:["Ana Sayfa","Haber Detay","Diger"],adType:"",adLocationList:["Ana Sayfa Ust Sag","Ana Sayfa Ust Sol","Haber Detay 1","Haber Detay  2"],adLocation:"",adStatusList:["Aktif","Pasif","Beklemede","Vakti Gecti"],adStatus:"",adLink:""},Object(n["a"])(a,"startDate",null),Object(n["a"])(a,"endDate",null),Object(n["a"])(a,"imageName",""),Object(n["a"])(a,"image",null),Object(n["a"])(a,"base64",""),Object(n["a"])(a,"views",0),Object(n["a"])(a,"toggleEditImage",!1),a},created:function(){var a=this,t={};t.id=a.$route.params.id,a.id=t.id,l.a.post("https://defensehere.herokuapp.com/get_ad",{data:t}).then((function(t){console.log(t.data),a.ad=t.data,a.imageName=t.data.adImage,a.adType=t.data.adType,a.ad.adTitle=t.data.adName,a.views=t.data.views,a.ad.adImage="https://defensehere.herokuapp.com/images/"+t.data.adImage,a.status="unconfirmed"==t.data.status?"Onay Bekliyor":"Onaylı"}),(function(a){console.error(a)}))},methods:{submitAd:function(){var a=this,t=this.$refs.cropper.getResult(),e=(t.coordinates,t.canvas);if(e)if(a.imageName)if(a.ad.adTitle){if(e){new FormData;e.toBlob((function(t){a.blobToBase64(t).then((function(t){var e=new FormData;e.append("file",t),e.append("fileName",a.imageName),e.append("owner",a.owner),e.append("adTitle",a.ad.adTitle),e.append("adType",a.adType),e.append("status",""),e.append("id",a.id),console.log(e),l.a.post("https://defensehere.herokuapp.com/update_ad/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var e=t.data;console.log(e),"success"==t.data&&a.$notify({type:"success",text:"Etkinlik Guncellendi!"})}))}))}),"image/jpeg")}}else a.$notify({type:"warn",text:"Lutfen Reklam Ismini Kontrol Ediniz!",duration:3e3});else a.$notify({type:"warn",text:"Lutfen Reklam Resim Ismini Kontrol Ediniz!",duration:3e3});else a.$notify({type:"warn",text:"Lutfen Reklam Resmini Kontrol Ediniz!",duration:3e3})},crop:function(){var a=this.$refs.cropper.getResult(),t=a.coordinates,e=a.canvas;this.coordinates=t,this.image=e.toDataURL()},reset:function(){this.image=null},getImage:function(){var a=this;fetch("https://defensehere.herokuapp.com/images/"+a.imageName).then((function(a){return a.blob()})).then((function(t){var e=URL.createObjectURL(t),s=new Image;s.src=e,a.image=s.src}))},loadImage:function(a){var t=this,e=a.target;if(e.files&&e.files[0]){var s=new FileReader;s.onload=function(a){t.image=a.target.result,t.base64=t.image},s.readAsDataURL(e.files[0])}},blobToBase64:function(a){var t=new FileReader;return t.readAsDataURL(a),new Promise((function(a){t.onloadend=function(){a(t.result)}}))},confirmAd:function(){var a=this,t={id:a.id};l.a.post("https://defensehere.herokuapp.com/confirm_ad/",{data:t}).then((function(t){console.log(t.data),"success"==t.data&&(a.$notify({type:"success",text:"Reklam Onaylandi!"}),a.ad.status="confirmed")}))},unconfirmAd:function(){var a=this,t={id:a.id};l.a.post("https://defensehere.herokuapp.com/unconfirm_ad/",{data:t}).then((function(t){console.log(t.data),"success"==t.data&&(a.$notify({type:"error",text:"Reklam Reddedildi!"}),a.ad.status="unconfirmed")}))},deleteAd:function(){var a=this,t={id:a.id};l.a.post("https://defensehere.herokuapp.com/delete_ad/",{data:t}).then((function(t){console.log(t.data),"success"==t.data&&a.$notify({type:"error",text:"Reklam Silindi!"})}))}}}),p=u,f=(e("e1a4"),e("2877")),g=Object(f["a"])(p,s,i,!1,null,null,null);t["default"]=g.exports},"1ded":function(a,t,e){},ade3:function(a,t,e){"use strict";function s(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}e.d(t,"a",(function(){return s}))},e1a4:function(a,t,e){"use strict";e("1ded")}}]);
//# sourceMappingURL=chunk-069877c0.bc07e4e0.js.map