{"version":3,"sources":["webpack:///./src/pages/posts/Posts.vue?7891","webpack:///src/pages/posts/Posts.vue","webpack:///./src/pages/posts/Posts.vue?f466","webpack:///./src/pages/posts/Posts.vue","webpack:///./src/pages/posts/Posts.vue?797d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","filter","ref","postsTableData","tableFields","rowSelected","scopedSlots","_u","key","fn","data","value","previewImage","goToPostLink","directives","name","rawName","expression","previewToggle","previewImageUrl","_s","previewImageName","staticRenderFns","metaInfo","title","label","sortable","sortDirection","class","created","vm","computed","methods","selectedRows","console","log","goToPost","postData","forEach","selectedPost","post","_id","slice","id","length","$router","push","clickRows","Object","keys","d","filtered","component"],"mappings":"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","file":"js/chunk-2e9b5867.864f3af3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',{staticClass:\"d-flex justify-content-between \"},[_c('div',{staticClass:\"page-header\"},[_c('h4',[_vm._v(\"Posts\")])]),_vm._v(\" \"),_c('b-btn',{staticClass:\"align-self-start\",attrs:{\"variant\":\"primary rounded-pill\",\"to\":\"/posts/create\"}},[_c('span',{staticClass:\"fas fa-plus-circle\"}),_vm._v(\" Create Post\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('b-form-group',[_c('b-input',{staticClass:\"d-inline-block w-auto float-sm-right\",attrs:{\"size\":\"sm\",\"placeholder\":\"Search...\"},on:{\"input\":function($event){return _vm.filter($event)}}})],1)],1)]),_vm._v(\" \"),_c('b-table',{ref:\"myTable\",staticClass:\"table nexus-table\",attrs:{\"hover\":\"\",\"select-mode\":\"multi\",\"borderless\":\"\",\"selectable\":\"\",\"items\":_vm.postsTableData,\"fields\":_vm.tableFields},on:{\"row-selected\":_vm.rowSelected},scopedSlots:_vm._u([{key:\"cell(postImage)\",fn:function(data){return [_c('img',{attrs:{\"src\":data.value,\"with\":\"75\",\"height\":\"75\"},on:{\"click\":function($event){return _vm.previewImage(data.value)}}})]}},{key:\"cell(details)\",fn:function(data){return [_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.goToPostLink(data)}}},[_vm._v(\"Habere Git >\")])]}}])}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.previewToggle),expression:\"previewToggle\"}],staticClass:\"preview-container\",on:{\"click\":function($event){_vm.previewToggle = false;}}},[_c('span',{staticClass:\"close\"},[_vm._v(\"Ã—\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"preview\"}},[_c('img',{attrs:{\"src\":_vm.previewImageUrl},on:{\"click\":function($event){_vm.previewToggle = false}}})]),_vm._v(\" \"),_c('div',{staticClass:\"caption\"},[_vm._v(\"\\n    \"+_vm._s(_vm.previewImageName)+\" \\n  \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <b-row>\n    <b-col class=\"d-flex justify-content-between \">\n      <div class=\"page-header\">\n        <h4>Posts</h4>\n      </div>\n      <b-btn variant=\"primary rounded-pill\" class=\"align-self-start\" to=\"/posts/create\"><span class=\"fas fa-plus-circle\"></span> Create Post</b-btn>\n    </b-col>\n  </b-row>\n\n  <div class=\"row\">\n    <div class=\"col\">\n      <b-form-group>\n        <b-input size=\"sm\"  placeholder=\"Search...\" class=\"d-inline-block w-auto float-sm-right\" @input=\"filter($event)\" />\n      </b-form-group>\n    </div>\n  </div>\n\n  <b-table\n      class=\"table nexus-table\" hover select-mode=\"multi\" \n      borderless selectable  \n      @row-selected=\"rowSelected\" ref=\"myTable\" \n      :items=\"postsTableData\"\n      :fields=\"tableFields\">\n      <template #cell(postImage)=\"data\" >\n          <img :src=\"data.value\" with=\"75\" height=\"75\" @click=\"previewImage(data.value)\" />\n      </template>\n      <template #cell(details)=\"data\" >\n        <a href=\"#\" @click=\"goToPostLink(data)\">Habere Git ></a>\n      </template>\n  </b-table>\n\n\n<div v-show=\"previewToggle\" class=\"preview-container\" @click=\"previewToggle = false;\">\n  <span class=\"close\">&times;</span>\n\n  <div id=\"preview\">\n    <img  :src=\"previewImageUrl\" @click=\"previewToggle = false\"/>\n  </div>\n\n  <div class=\"caption\">\n    {{previewImageName}} \n  </div>\n</div>\n\n</div>\n</template>\n<script>\nimport axios from \"axios\";\nimport moment from 'moment'\n\nimport \"vue-search-select/dist/VueSearchSelect.css\";\n\nexport default {\n  name: \"Posts\",\n  metaInfo: {\n    title: \"Posts\",\n  },\n  data: () => ({\n    tableFields: [\n      {\n        key: \"id\",\n        label: \"ID\",\n        sortable: true,\n        sortDirection: \"desc\",\n        class: \"text-center align-middle\",\n      },\n      {\n        key: \"postImage\",\n        label: \"Haber Resmi\",\n        sortable: true,\n        sortDirection: \"desc\",\n        class: \"text-center align-middle\",\n      },\n      {\n        key: \"Baslik\",\n        sortable: true,\n        sortDirection: \"desc\",\n        class: \"text-center align-middle\",\n      },\n      {\n        key: \"date\",\n        label: \"Date\",\n        sortable: true,\n        sortDirection: \"desc\",\n        class: \"text-center align-middle\",\n      },\n      {\n        key: \"status\",\n        label: \"Status\",\n        sortable: true,\n        sortDirection: \"desc\",\n        class: \"text-center align-middle\",\n      },\n      {\n        key: \"details\",\n        sortable: true,\n        sortDirection: \"desc\",\n        class: \"text-center align-middle\",\n      }\n    ],\n    posts: [],\n    postsTableData: [],\n    previewImageUrl: null,\n    previewImageName: '',\n    previewToggle: false,\n    selectedRows: []\n  }),\n  created() {\n    var vm = this\n    \n    axios\n      .post(process.env.VUE_APP_SERVER_URL + \"/get_posts/\", {})\n      .then((response) => {\n        console.log(response.data);\n        vm.posts = response.data\n            vm.posts.forEach(post => {\n              var tmp_post = {\n                id: post._id.slice(-4),\n                date: moment(post.date).fromNow(),\n                status: 'active',\n                postImage: process.env.VUE_APP_SERVER_URL + '/images/' + post.postImage,\n                Baslik: post.postTitle,\n                details: post._id\n              }\n              vm.postsTableData.push(tmp_post)\n            })\n            vm.originalPostsTableData = vm.postsTableData\n      });\n    \n\n  },\n  computed: {\n\n  },\n  methods: {\n    rowSelected(data) {\n      this.selectedRows = data;\n      console.log(data);\n    },\n    goToPost() {\n      var vm = this\n      var postData = []\n      vm.selectedRows.forEach( selectedPost => {\n        console.log(selectedPost)\n          vm.posts.forEach( post => {\n          if (post._id.slice(-4) == selectedPost.id) {\n              postData.push(post)\n          }\n          })\n      })\n      if (postData.length == 1) {\n          console.log(postData)\n          this.$router.push({ name: 'Post', params: { id: postData[0]._id } })\n      }\n    },\n    goToPostLink(data) {\n      console.log(data)\n      this.$router.push({ name: 'Post', params: { id: data.value } })\n    },\n    clickRows(which) {\n        let myTable = this.$refs.myTable.$el,\n            tableBody = myTable.getElementsByTagName('tbody')[0],\n            tableRows = tableBody.getElementsByTagName('tr')\n        which.forEach(idx => {\n            tableRows[idx].click()\n        })\n        console.log(\"items\")\n    },\n    previewImage(imgName) {\n      var vm = this\n      vm.previewToggle = !vm.previewToggle\n\n      if (vm.previewImageUrl) vm.previewImageUrl = null\n        vm.previewImageUrl = imgName\n        vm.previewImageName = imgName.split('/').pop()\n    },\n    filter (value) {\n      const val = value.toLowerCase()\n\n      // filter our data\n      const filtered = this.originalPostsTableData.filter(d => {\n        // Concat data\n        return Object.keys(d)\n          .map(k => String(d[k]))\n          .join('|')\n          .toLowerCase()\n          .indexOf(val) !== -1 || !val\n      })\n      // update the rows\n      this.postsTableData = filtered\n    } \n  },\n};\n</script>\n\n<style scoped>\n.preview-container {\n  position: fixed;\n  z-index: 10;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0,0,0,0.8);\n  width: 100vw;\n  height: 100vh;\n}\n\n#preview {\n  position:relative;\n  top: 50%;\n  left: 50%;\n  height: 100%;\n  animation-name: zoom;\n  animation-duration: 0.8s;\n}\n\n@keyframes zoom {\n  from {transform:scale(0)}\n  to {transform:scale(1)}\n}\n\n#preview img {\n  transform: translate(-50%, -50%);\n}\n\n.caption {\n  position: relative;\n  top: -10%;\n  left: 25%;\n  margin: auto;\n  display: block;\n  width: 80%;\n  max-width: 700px;\n  text-align: center;\n  color: #ccc;\n  padding: 10px 0;\n  animation-name: zoom;\n  animation-duration: 0.8s;\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Posts.vue?vue&type=template&id=117843f8&scoped=true&\"\nimport script from \"./Posts.vue?vue&type=script&lang=js&\"\nexport * from \"./Posts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Posts.vue?vue&type=style&index=0&id=117843f8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"117843f8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=style&index=0&id=117843f8&scoped=true&lang=css&\""],"sourceRoot":""}