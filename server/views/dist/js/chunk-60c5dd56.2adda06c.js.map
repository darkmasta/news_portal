{"version":3,"sources":["webpack:///./src/pages/admin/Users.vue?24d4","webpack:///./src/pages/admin/Users.vue?628b","webpack:///src/pages/admin/Users.vue","webpack:///./src/pages/admin/Users.vue?e919","webpack:///./src/pages/admin/Users.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","staticClass","on","goToNewUser","$event","filter","ref","striped","bordered","borderless","outlined","small","hover","dark","fixed","footClone","noCollapse","usersTableData","fields","headVariant","tableVariant","rowSelected","selectedUsers","length","staticStyle","goToUser","_e","staticRenderFns","a","name","metaInfo","title","props","key","sortable","component"],"mappings":"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","file":"js/chunk-60c5dd56.2adda06c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&scss=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',[_c('h3',[_vm._v(\"Admin View/Update User\")])])],1),_vm._v(\" \"),_c('b-row',[_c('b-col',{attrs:{\"offset\":\"10\"}},[_c('b-btn',{staticClass:\"align-self-start new-user-btn\",attrs:{\"variant\":\"primary rounded-pill\"},on:{\"click\":_vm.goToNewUser}},[_c('span',{staticClass:\"fas fa-plus-circle\"}),_vm._v(\" Yeni Kullanici Ekle\")])],1)],1),_vm._v(\" \"),_c('b-row',[_c('b-col',[_c('b-card',{staticClass:\"mt-2\",attrs:{\"no-body\":\"\"}},[_c('b-card-body',[_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"}),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('b-form-group',[_c('b-input',{staticClass:\"d-inline-block w-auto float-sm-right\",attrs:{\"size\":\"sm\",\"placeholder\":\"Search...\"},on:{\"input\":function($event){return _vm.filter($event)}}})],1)],1)]),_vm._v(\" \"),_c('b-table',{ref:\"myTable\",attrs:{\"selectable\":\"\",\"striped\":_vm.striped,\"bordered\":_vm.bordered,\"borderless\":_vm.borderless,\"outlined\":_vm.outlined,\"small\":_vm.small,\"hover\":_vm.hover,\"dark\":_vm.dark,\"fixed\":_vm.fixed,\"foot-clone\":_vm.footClone,\"no-border-collapse\":_vm.noCollapse,\"items\":_vm.usersTableData,\"fields\":_vm.fields,\"head-variant\":_vm.headVariant,\"table-variant\":_vm.tableVariant},on:{\"row-selected\":_vm.rowSelected}}),_vm._v(\" \"),(_vm.selectedUsers.length == 1)?_c('b-btn',{staticClass:\"p-3 px-5 mt-4\",staticStyle:{\"float\":\"right\",\"margin-left\":\"25px\"},attrs:{\"size\":\"lg\",\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.goToUser()}}},[_vm._v(\"Edit Selected User!\")]):_vm._e()],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n      <b-row>\n      <b-col>\n        <h3>Admin View/Update User</h3>\n      </b-col>\n    </b-row>\n    <b-row>\n      <b-col offset=\"10\">\n        <b-btn variant=\"primary rounded-pill\" class=\"align-self-start new-user-btn\" @click=\"goToNewUser\"><span class=\"fas fa-plus-circle\"></span> Yeni Kullanici Ekle</b-btn>\n      </b-col>\n    </b-row>\n    <b-row>\n      <b-col>\n        <b-card class=\"mt-2\" no-body>\n          <b-card-body>\n            <div>\n              <div class=\"row\">\n                <div class=\"col\">\n                </div>\n                <div class=\"col\">\n                  <b-form-group>\n                    <b-input size=\"sm\"  placeholder=\"Search...\" class=\"d-inline-block w-auto float-sm-right\" @input=\"filter($event)\" />\n                  </b-form-group>\n                </div>\n              </div>\n                  <b-table\n                    selectable\n                    :striped=\"striped\"\n                    :bordered=\"bordered\"\n                    :borderless=\"borderless\"\n                    :outlined=\"outlined\"\n                    :small=\"small\"\n                    :hover=\"hover\"\n                    :dark=\"dark\"\n                    :fixed=\"fixed\"\n                    :foot-clone=\"footClone\"\n                    :no-border-collapse=\"noCollapse\"\n                    :items=\"usersTableData\"\n                    :fields=\"fields\"\n                    :head-variant=\"headVariant\"\n                    :table-variant=\"tableVariant\"\n                    @row-selected=\"rowSelected\" ref=\"myTable\" \n                  >\n                  </b-table>\n\n                  <b-btn class=\"p-3 px-5 mt-4\" size=\"lg\" variant=\"warning\" \n                            style=\"float: right; margin-left: 25px;\"\n                            v-if=\"selectedUsers.length == 1\"\n                            @click=\"goToUser()\">Edit Selected User!</b-btn>\n            </div>\n\n          \n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n  \n</div>\n</template>\n<script>\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport AxiosPlugin from \"vue-axios-cors\";\nimport _ from \"underscore\";\nimport $ from \"jquery\";\nimport loadCustomers from \"@/mixins/loadCustomers\";\nimport VueTypeahead from \"vue-typeahead\";\nimport moment from \"moment\"\n\nVue.use(axios);\n\naxios.defaults.withCredentials = true;\nVue.use(AxiosPlugin);\n\n\nexport default {\n  name: \"AdminUsers\",\n  metaInfo: {\n    title: \"Users\",\n  },\n  props: {\n      model: {\n        type: Object,\n        default ()  {\n          return {};\n        }\n      }\n    },\n    data() {\n      return {\n        value: \"\",\n        fields: [{ key: 'Id', sortable: true}, { key: 'Email', sortable: true} , { key: 'Son_Gorulme', sortable: true}, \n                 { key: 'Password', sortable: true}, { key: 'Kullanici_Dili', sortable: true},\n                 { key: 'Status', sortable: true}],\n        usersTableData: [], \n        originalUsersTableData: [], \n        loading: false,\n        editOrigin: false,\n        selectedUsers: [],\n        limit: 5,\n        minChars: 3,\n        address: \"\",\n        customers: [],\n        vin: \"\",\n        showPriceTab: false,\n        economyPrice: 0,\n        standardPrice: 0,\n        expeditedPrice: 0,\n        totalPrice: 0,\n        selectedPrice: 0,\n        quoteId: 0,\n        ownerEmail: \"\",\n        owner: \"\",\n        quotes: [],\n        profit: 0,\n        items: {\n          value: \"\",\n          text: \"\",\n        },\n        striped: false,\n        bordered: false,\n        borderless: false,\n        outlined: true,\n        small: false,\n        hover: true,\n        dark: false,\n        fixed: false,\n        footClone: false,\n        headVariant: 'light',\n        tableVariant: '',\n        noCollapse: false\n    };\n    }, \n    mixins: [loadCustomers],\n    components: {\n    },\n    created() {\n      var vm = this\n\n       axios.get(process.env.VUE_APP_SERVER_URL + '/users/')\n          .then(response => { \n              var data = response.data\n              console.log(data)\n              vm.users = data\n              data.forEach((user) => {\n                var tmp_user = {\n                  Id: user._id.slice(-4),\n                  Status:  user.userRole,\n                  Email: user.email,\n                  Kullanici_Dili: user.defaultLang,\n                  Son_Gorulme: moment(user.lastLogin).fromNow(),\n                  Password: user.password\n                }\n                vm.usersTableData.push(tmp_user)\n              })\n              vm.originalUsersTableData = vm.usersTableData\n\n          })\n\n    },\n    events: {\n        click: function(data) {\n            console.log(data)\n        }\n    },\n    watch: {\n    },\n    methods: {\n      goToNewUser() {\n          this.$router.push({ name: 'AdminUserCreate' })\n      },\n      goToUser() {\n        var vm = this\n        var userData = []\n        vm.selectedUsers.forEach( selectedUser => {\n          vm.users.forEach( user => {\n            if (user._id.slice(-4) == selectedUser.Id) {\n              userData.push(user)\n            }\n          })\n        })\n        if (userData.length == 1) {\n          this.$router.push({ name: 'AdminUser', params: { id: userData[0]._id } })\n        }\n      },\n      rowSelected(items) {\n        this.selectedUsers = items\n        console.log(items)\n      },\n      clickRows(which) {\n        let myTable = this.$refs.myTable.$el,\n            tableBody = myTable.getElementsByTagName('tbody')[0],\n            tableRows = tableBody.getElementsByTagName('tr')\n        which.forEach(idx => {\n          tableRows[idx].click()\n        })\n        console.log(\"items\")\n      },\n      totalPriceCalc() {\n        var vm = this;\n        return Number(vm.profit) + Number(vm.selectedPrice);\n      },\n      updateQuery() {\n        this.query = this.value;\n        this.update();\n      },\n      onHit(item) {\n        this.value = item.screen_name;\n        this.reset();\n      },\n      resetInput() {\n        this.value = \"\";\n        this.reset();\n      },\n      showDetails() {\n        return true;  \n      },\n      myRowClickHandler(record, index) {\n        // 'record' will be the row data from items\n        // `index` will be the visible row number (available in the v-model 'shownItems')\n        //console.log(record); // This will be the item data for the row\n        console.log(record)\n        this.selectedQuote = record\n      },\n      reset () {\n        this.item = {}\n      },\n      filter (value) {\n        const val = value.toLowerCase()\n        console.log(value)\n\n        // filter our data\n        const filtered = this.originalUsersTableData.filter(d => {\n          // Concat data\n          return Object.keys(d)\n            .map(k => String(d[k]))\n            .join('|')\n            .toLowerCase()\n            .indexOf(val) !== -1 || !val\n        })\n        // update the rows\n        this.usersTableData = filtered\n      } \n    },\n    computed: {\n      totalItems () {\n        return this.quotesTableData.length\n      },\n      totalPages () {\n        return Math.floor(this.totalItems / this.perPage) || (this.totalItems ? 1 : 0)\n      },\n      tableFields () {\n        if (!this.jsonData[0]) return []\n        return Object.keys(this.quotesTableData[0]).map(key => ({\n          key,\n          sortable: this.isSortable\n        }))\n      }\n    }\n  }\n</script>\n\n<style scss>\n\ntable > tbody > .table-active > td {\n    background-color: #FFD950 !important;\n    box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.07), 0px 4px 5px 0px rgba(0, 0, 0, 0.05), 0px 1px 10px 0px rgba(0, 0, 0, 0.03);\n    color: #665720;\n}\n\n.new-user-btn {\n  margin-bottom: 1.5rem;\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=1f88a563&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&scss=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}