(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43d6dce0"],{"41e9":function(t,e,a){},f320:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("h3",[t._v("Admin View/Update Quote")])])],1),t._v(" "),a("b-row",[a("b-col",[a("b-card",{staticClass:"mt-2",attrs:{"no-body":""}},[a("b-card-body",[a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),t._v(" "),a("div",{staticClass:"col"},[a("b-form-group",[a("b-input",{staticClass:"d-inline-block w-auto float-sm-right",attrs:{size:"sm",placeholder:"Search..."},on:{input:function(e){return t.filter(e)}}})],1)],1)]),t._v(" "),a("b-table",{ref:"myTable",attrs:{selectable:"",striped:t.striped,bordered:t.bordered,borderless:t.borderless,outlined:t.outlined,small:t.small,hover:t.hover,dark:t.dark,fixed:t.fixed,"foot-clone":t.footClone,"no-border-collapse":t.noCollapse,items:t.quotesTableData,fields:t.fields,"head-variant":t.headVariant,"table-variant":t.tableVariant},on:{"row-selected":t.rowSelected}}),t._v(" "),1==t.selectedQuotes.length?a("b-btn",{staticClass:"p-3 px-5 mt-4",staticStyle:{float:"right","margin-left":"25px"},attrs:{size:"lg",variant:"warning"},on:{click:function(e){return t.goToQuote()}}},[t._v("Edit Selected Quote!")]):t._e()],1)])],1)],1)],1)],1)},i=[],n=(a("159b"),a("fb6a"),a("a9e3"),a("4de4"),a("c975"),a("a15b"),a("d81d"),a("2b0e")),s=a("bc3a"),r=a.n(s),l=a("049c"),c=a.n(l),d=a("c46f"),u=(a("1157"),a("0969")),p=(a("ff5a"),a("c1df")),f=a.n(p);a("41e9");n["default"].use(r.a),r.a.defaults.withCredentials=!0,n["default"].use(c.a),n["default"].prototype.$http=r.a;var h={name:"quotes",metaInfo:{title:"Quotes"},props:{model:{type:Object,default:function(){return{}}}},data:function(){return{value:"",fields:[{key:"Id",sortable:!0},{key:"Created",sortable:!0},{key:"Shipper",sortable:!0},{key:"Vehicle",sortable:!0},{key:"Origin_Destination",sortable:!0},{key:"First_Avalaible",sortable:!0},{key:"Tariff",sortable:!0},{key:"Carrier_Pay",sortable:!0},{key:"Status",sortable:!0}],quotesTableData:[],originalQuotesTableData:[],loading:!1,editOrigin:!1,selectedQuotes:[],limit:5,minChars:3,zipCode:"",city:"",state:"",dZipCode:"",dCity:"",dState:"",year:null,carModel:"",make:"",address:"",customers:[],vin:"",showPriceTab:!1,economyPrice:0,standardPrice:0,expeditedPrice:0,totalPrice:0,selectedPrice:0,quoteId:0,ownerEmail:"",owner:"",quotes:[],prices:[{text:"Economy",value:"0"},{text:"Standard",value:"1"},{text:"Expedited",value:"2"}],selectedPriceOption:"",profit:0,items:{value:"",text:""},striped:!1,bordered:!1,borderless:!1,outlined:!0,small:!1,hover:!0,dark:!1,fixed:!1,footClone:!1,headVariant:"light",tableVariant:"",noCollapse:!1}},mixins:[u["a"]],components:{},created:function(){var t=this;r.a.post("http://localhost:5000/get_customers/").then((function(e){var a=e.data;t.customers=a,d["a"].each(a,(function(e,a){var o={value:0,text:""};o.value=a,o.text=e.fullName,t.options.push(o)}))})),r.a.post("http://localhost:5000/get_quotes/").then((function(e){var a=e.data;console.log(a),t.quotes=a,a.forEach((function(e){var a={Id:e._id.slice(-4),Created:f()(e.date).fromNow(),Origin_Destination:e.originZipCode+" -> "+e.destinationZipCode,First_Avalaible:"----",Tariff:"$"+e.profit,Carrier_Pay:"$"+e.price,Status:"active",Shipper:e.ownerEmail,Vehicle:e.vin};t.quotesTableData.push(a)})),t.originalQuotesTableData=t.quotesTableData})),r.a.get("http://localhost:5000/user").then((function(e){var a=e.data;t.profit=a.defaultProfit,t.city=a.city,t.state=a.state,t.zipCode=a.zip}),(function(t){console.log(t)}))},events:{click:function(t){console.log(t)}},watch:{},methods:{goToQuote:function(){var t=this,e=[];t.selectedQuotes.forEach((function(a){t.quotes.forEach((function(t){t._id.slice(-4)==a.Id&&e.push(t)}))})),1==e.length&&this.$router.push({name:"Quote",params:{id:e[0]._id}})},rowSelected:function(t){this.selectedQuotes=t,console.log(t)},clickRows:function(t){var e=this.$refs.myTable.$el,a=e.getElementsByTagName("tbody")[0],o=a.getElementsByTagName("tr");t.forEach((function(t){o[t].click()})),console.log("items")},totalPriceCalc:function(){var t=this;return Number(t.profit)+Number(t.selectedPrice)},updateQuery:function(){this.query=this.value,this.update()},onHit:function(t){this.value=t.screen_name,this.reset()},resetInput:function(){this.value="",this.reset()},lookupZip:d["a"].debounce((function(){var t=this;t.city="Searching...";var e={zipCode:t.zipCode};r.a.post("http://localhost:5000/decode_zip/",{data:e}).then((function(e){t.city=e.data.city,t.state=e.data.state})).catch((function(e){t.city="Invalid Zipcode",t.state="Invalid Zipcode"}))}),1e3),lookupZip2:d["a"].debounce((function(){var t=this;t.dCity="Searching...";var e={zipCode:t.dZipCode};r.a.post("http://localhost:5000/decode_zip/",{data:e}).then((function(e){t.dCity=e.data.city,t.dState=e.data.state})).catch((function(e){t.dCity="Invalid Zipcode",t.dState="Invalid Zipcode"}))}),1e3),getQuote:function(t){var e=this,a={};a=t,a.vin=e.vin,a.year=e.year,a.model=e.carModel,a.make=e.make,a.destinationCity=e.dCity,a.destinationState=e.dState,a.destinationZipCode=e.dZipCode,a.zipCode=e.zipCode,a.state=e.state,a.city=e.city,console.log(a);var o={carCondition:"1",transportType:"1",vehicleMake:a.make,vehicleModel:a.model,vehicleYear:a.year,zipDrop:Number(a.destinationZipCode),zipPick:a.zipCode};console.log(o),r.a.post("https://nexusv.d.brainwork.lv/api/calculations",o).then((function(t){console.log(t),e.economyPrice=t.data.data.result.quote.economy,e.standardPrice=t.data.data.result.quote.standard,e.expeditedPrice=t.data.data.result.quote.expedited,e.showPriceTab=!0}),(function(t){}))},showDetails:function(){return!0},myRowClickHandler:function(t,e){console.log(t),this.selectedQuote=t},reset:function(){this.item={}},filter:function(t){var e=t.toLowerCase();console.log(t);var a=this.originalQuotesTableData.filter((function(t){return-1!==Object.keys(t).map((function(e){return String(t[e])})).join("|").toLowerCase().indexOf(e)||!e}));this.quotesTableData=a}},computed:{totalItems:function(){return this.quotesTableData.length},totalPages:function(){return Math.floor(this.totalItems/this.perPage)||(this.totalItems?1:0)},tableFields:function(){var t=this;return this.jsonData[0]?Object.keys(this.quotesTableData[0]).map((function(e){return{key:e,sortable:t.isSortable}})):[]}}},b=h,v=a("2877"),m=Object(v["a"])(b,o,i,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-43d6dce0.fd11261e.js.map