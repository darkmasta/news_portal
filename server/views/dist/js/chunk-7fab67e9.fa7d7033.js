(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fab67e9"],{"1cc2":function(a,e,t){a.exports=t.p+"img/profile-avatar.0ce5c75c.webp"},5214:function(a,e,t){},"7bd2":function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"media align-items-center py-3 mb-3"},[s("div",{staticClass:"d-flex justify-content-center mb-3"},[a.userData.photo?s("img",{staticClass:"d-block ui-w-100 rounded-circle",attrs:{src:a.backendUrl+"storage/agents/"+a.userData.photo,alt:""}}):s("img",{staticClass:"d-block ui-w-100 rounded-circle",attrs:{src:t("1cc2"),alt:""}})]),a._v(" "),s("div",{staticClass:"media-body ml-4"},[s("h4",{staticClass:"font-weight-bold mb-0"},[a._v(a._s(a.userData.firstName)+" "+a._s(a.userData.lastName))]),a._v(" "),s("b-btn",{staticClass:"mt-2",attrs:{variant:"primary",size:"sm"},on:{click:function(e){a.edit=!a.edit}}},[a._v("Edit")])],1)])]),a._v(" "),s("div",{staticClass:"col-lg-12 mb-4"},[s("b-card",{attrs:{title:"User Details"}},[s("b-card-body",[s("b-row",[s("b-col",[s("b-form-group",{attrs:{label:"Isim"}},[a.edit?a._e():s("span",[a._v(a._s(a.userData.firstName))]),a._v(" "),a.edit?s("b-input",{attrs:{label:"Isim",placeholder:"Isim"},model:{value:a.userData.firstName,callback:function(e){a.$set(a.userData,"firstName",e)},expression:"userData.firstName"}}):a._e()],1)],1),a._v(" "),s("b-col",[s("b-form-group",{attrs:{label:"Soy Isim"}},[a.edit?a._e():s("span",[a._v(" "+a._s(a.userData.lastName)+" ")]),a._v(" "),a.edit?s("b-input",{attrs:{label:"Soy Isim",placeholder:"Soy Isim"},model:{value:a.userData.lastName,callback:function(e){a.$set(a.userData,"lastName",e)},expression:"userData.lastName"}}):a._e()],1)],1)],1),a._v(" "),s("b-row",[s("b-col",[s("b-form-group",{attrs:{label:"E-mail"}},[a.edit?a._e():s("span",[a._v(a._s(a.userData.email))]),a._v(" "),a.edit?s("b-input",{attrs:{label:"Email",placeholder:"Email"},model:{value:a.userData.email,callback:function(e){a.$set(a.userData,"email",e)},expression:"userData.email"}}):a._e()],1)],1),a._v(" "),s("b-col",[s("b-form-group",{attrs:{label:"Kullanici Dili"}},[a.edit?a._e():s("span",[a._v(a._s(a.defaultLang))]),a._v(" "),a.edit?s("b-select",{model:{value:a.defaultLang,callback:function(e){a.defaultLang=e},expression:"defaultLang"}},a._l(a.languages,(function(e,t){return s("option",{key:t,domProps:{value:e}},[a._v(" \n                      "+a._s(e)+"\n                  ")])})),0):a._e()],1)],1)],1),a._v(" "),s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{attrs:{label:"Son Gorulme"}},[s("span",[a._v(a._s(a.userData.lastLogin))])])],1)],1),a._v(" "),s("b-row",[s("b-col",{attrs:{cols:"4"}},[s("b-form-group",{attrs:{label:"Password"}},[a.edit?a._e():s("span",[a._v(a._s(a.userData.password))]),a._v(" "),a.edit?s("b-input",{attrs:{label:"Password",placeholder:"Password"},model:{value:a.userData.password,callback:function(e){a.$set(a.userData,"password",e)},expression:"userData.password"}}):a._e()],1)],1),a._v(" "),s("b-col",[s("b-form-group",{attrs:{label:"Kullanici Rolu"}},[a.edit?a._e():s("span",[a._v(a._s(a.userData.userRole))]),a._v(" "),a.edit?s("b-select",{model:{value:a.userRole,callback:function(e){a.userRole=e},expression:"userRole"}},a._l(a.userRoles,(function(e,t){return s("option",{key:t,domProps:{value:e}},[a._v(" \n                      "+a._s(e)+"\n                  ")])})),0):a._e()],1)],1)],1),a._v(" "),s("b-row",[s("b-col",{attrs:{cols:"3"}},[s("b-btn",{on:{click:function(e){return a.submitProfile(a.userData)}}},[a._v("Save")]),a._v(" "),s("b-btn",{staticClass:"ml-5",attrs:{variant:"danger"},on:{click:function(e){return a.deleteUser()}}},[a._v("Delete User")])],1)],1)],1)],1)],1)])])},l=[],i=t("bc3a"),o=t.n(i),r=t("c1df"),n=t.n(r),u={name:"profile",metaInfo:{title:"Profile"},data:function(){return{formSubmit:!1,file:null,id:0,imgPreview:null,edit:!1,userRoles:["Admin","Editor","Writer"],userRole:"",languages:["Turkce","Ingilizce","Arapca","Rusca","Ukraynaca","Fransizca"],defaultLang:"",userData:{userRole:"",photo:"",firstName:"",lastName:"",name:"",email:"",lastLogin:"",id:null},sources:{options:[],selected:[]}}},created:function(){var a=this,e={};e.id=a.$route.params.id,a.id=e.id,o.a.post("http://localhost:5000/user_by_id",{data:e}).then((function(e){var t=e.data;a.userData.email=t.email,a.userData.firstName=t.firstName,a.userData.lastName=t.lastName,a.userData.password=t.password,a.userData.userRole=t.userRole,a.userRole=t.userRole,a.defaultLang=t.defaultLang,a.userData.lastLogin=n()(t.lastLogin).fromNow(),console.log(e)}),(function(a){console.log(a)}))},methods:{setUserData:function(a){for(var e in this.userData)Object.prototype.hasOwnProperty.call(a,e)&&(this.userData[e]=a[e])},submitProfile:function(a){var e=this,t=e.userData;if(t.id=e.id,console.log(t),e.userRole.length<2)e.$notify({type:"warn",text:"Kullanici Rolu Bos Olamaz!"});else if(e.userData.firstName<2)e.$notify({type:"warn",text:"Kullanici Adi Bos Olamaz!"});else if(e.userData.email<2)e.$notify({type:"warn",text:"Email Bos Olamaz!"});else if(e.userData.password<2)e.$notify({type:"warn",text:"Sifre Bos Olamaz!"});else{t=e.userData;t.userRole=e.userRole,t.defaultLang=e.defaultLang,console.log(t),o.a.post("http://localhost:5000/update_user_profile",{data:t}).then((function(a){var t=a.data;e.edit=!1,console.log(t),t._id.length>7&&e.$notify({type:"success",text:"Kullanici Basariyla Guncellendi!"})}),(function(a){console.log(a)}))}},deleteUser:function(){var a=this,e=a.userData;e.id=a.id,confirm("Kullanici Siliniyor. Emin Misiniz?")&&o.a.post("http://localhost:5000/delete_user",{data:e}).then((function(e){var t=e.data;a.edit=!1,console.log(t),t._id.length>7&&a.$notify({type:"success",text:"Kullanici Basariyla Silindi!"})}),(function(a){console.log(a)}))}}},c=u,d=(t("fc58"),t("8844"),t("2877")),f=Object(d["a"])(c,s,l,!1,null,null,null);e["default"]=f.exports},8844:function(a,e,t){"use strict";t("c803")},c803:function(a,e,t){},fc58:function(a,e,t){"use strict";t("5214")}}]);
//# sourceMappingURL=chunk-7fab67e9.fa7d7033.js.map