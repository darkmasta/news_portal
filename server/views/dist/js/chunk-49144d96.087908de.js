(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49144d96"],{"7fb5":function(t,e,i){},8078:function(t,e,i){"use strict";i("7fb5")},"8e71":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"row"},[t._m(0),t._v(" "),i("b-col",{staticClass:"offset-10"},[i("b-btn",{staticClass:"align-self-start",attrs:{variant:"primary rounded-pill",to:"/activities/create"}},[i("span",{staticClass:"fas fa-plus-circle"}),t._v(" Yeni Aktivite Ekle")])],1)],1),t._v(" "),i("b-table",{staticClass:"table nexus-table mt-2",attrs:{hover:"",borderless:"",items:t.activitiesTableData,fields:t.tableFields},scopedSlots:t._u([{key:"cell(activityImage)",fn:function(e){return[i("img",{staticClass:"post-table-image",attrs:{src:e.value,with:"75",height:"75"},on:{click:function(i){return t.previewImage(e.value)}}})]}},{key:"cell(details)",fn:function(e){return["Onaylandi"==e.item.status?i("span",{staticClass:"fa fa-ban",attrs:{title:"Red"},on:{click:function(i){return t.unconfirmActivity(e)}}}):t._e(),t._v(" "),"Onay Bekliyor"==e.item.status?i("span",{staticClass:"fa fa-check mr-2 text-primary",attrs:{title:"Onay"},on:{click:function(i){return t.confirmActivity(e)}}}):t._e(),t._v(" "),i("span",{staticClass:"far fa-edit mr-2 text-primary",attrs:{title:"Edit Post"},on:{click:function(i){return t.goToActivity(e)}}}),t._v(" "),i("span",{staticClass:"fas fa-times text-danger",attrs:{title:"Delete Post"},on:{click:function(i){return t.deleteActivity(e)}}})]}}])}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.previewToggle,expression:"previewToggle"}],staticClass:"preview-container",on:{click:function(e){t.previewToggle=!1}}},[i("span",{staticClass:"close"},[t._v("×")]),t._v(" "),i("div",{attrs:{id:"preview"}},[i("img",{attrs:{src:t.previewImageUrl},on:{click:function(e){t.previewToggle=!1}}})]),t._v(" "),i("div",{staticClass:"caption"},[t._v("\n      "+t._s(t.previewImageName)+" \n    ")])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-lg-12"},[i("h4",{staticClass:"font-weight-bold py-3 mb-1"},[i("span",{staticClass:"text-muted font-weight-light"},[t._v("Etkinlikler")])])])}],n=i("ade3"),l=(i("159b"),i("fb6a"),i("1276"),i("ac1f"),i("bc3a")),c=i.n(l),r=i("c1df"),o=i.n(r);o.a.locale("tr");var v={name:"activities",metaInfo:{title:"Activities"},data:function(){var t;return t={tableFields:[{key:"activityImage",label:"Etkinlik Resmi",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"Baslik",label:"Etkinlik Adi",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"owner",label:"Ekleyen",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"activityType",label:"Etkinlik Türü",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"startDate",label:"Baslangic Tarihi",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"endDate",label:"Bitis Tarihi",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"status",label:"Etkinlik Durumu",sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"details",label:"İşlemler",sortable:"true",class:"text-center align-middle"}],activities:[],activitiesTableData:[],originalActivitiesTableData:[],previewImageUrl:null,previewImageName:"",previewToggle:!1},Object(n["a"])(t,"previewImageUrl",null),Object(n["a"])(t,"previewImageName",""),Object(n["a"])(t,"previewToggle",!1),t},created:function(){var t=this;c.a.post("https://defensehere.herokuapp.com/get_activities/",{}).then((function(e){console.log(e.data),t.activities=e.data,t.activities.forEach((function(e){var i={id:e._id.slice(-4),startDate:o()(e.startDate).format("DD/MM/YYYY, h:mm:ss a"),endDate:o()(e.endDate).format("DD/MM/YYYY, h:mm:ss a"),status:"confirmed"==e.status?"Onaylandi":"Onay Bekliyor",owner:e.owner,position:e.activityPosition,activityType:e.activityType,activityImage:"https://defensehere.herokuapp.com/images/"+e.activityImage,Baslik:e.activityTitle,details:e._id};t.activitiesTableData.push(i)})),t.originalActivitiesTableData=t.activitiesTableData}))},computed:{},methods:{goToActivity:function(t){this.$router.push({name:"Activity",params:{id:t.value}})},confirmActivity:function(t){var e=this,i={id:t.value};console.log(i),c.a.post("https://defensehere.herokuapp.com/confirm_activity/",{data:i}).then((function(t){console.log(t.data),"success"==t.data&&(e.$notify({type:"success",text:"Etkinlik Onaylandi!"}),setTimeout((function(){location.reload()}),1600))}))},unconfirmActivity:function(t){var e=this,i={id:t.value};console.log(i),c.a.post("https://defensehere.herokuapp.com/unconfirm_activity/",{data:i}).then((function(t){console.log(t.data),"success"==t.data&&(e.$notify({type:"error",text:"Etkinlik Reddedildi!"}),setTimeout((function(){location.reload()}),1600))}))},deleteActivity:function(t){console.log(t)},previewImage:function(t){var e=this;e.previewToggle=!e.previewToggle,e.previewImageUrl&&(e.previewImageUrl=null),e.previewImageUrl=t,e.previewImageName=t.split("/").pop()}}},d=v,u=(i("8078"),i("2877")),m=Object(u["a"])(d,a,s,!1,null,null,null);e["default"]=m.exports},ade3:function(t,e,i){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",(function(){return a}))}}]);
//# sourceMappingURL=chunk-49144d96.087908de.js.map