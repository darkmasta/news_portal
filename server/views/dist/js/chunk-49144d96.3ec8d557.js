(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49144d96"],{"7fb5":function(t,e,i){},8078:function(t,e,i){"use strict";i("7fb5")},"8e71":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12"},[i("h4",{staticClass:"font-weight-bold py-3 mb-1"},[i("span",{staticClass:"text-muted font-weight-light"},[t._v(t._s(t.$t("activities.activities")))])])]),t._v(" "),i("b-col",{staticClass:"offset-10"},[i("b-btn",{staticClass:"align-self-start",attrs:{variant:"primary rounded-pill",to:"/activities/create"}},[i("span",{staticClass:"fas fa-plus-circle"}),t._v(" "+t._s(t.$t("activities.create activity")))])],1)],1),t._v(" "),i("b-card",{staticClass:"mt-2",attrs:{"no-body":""}},[i("b-card-body",[i("b-row",[i("b-col",[i("b-form-group",[i("b-input",{staticClass:"d-inline-block w-auto float-sm-right",attrs:{size:"sm",placeholder:"Search..."},on:{input:function(e){return t.filter(e)}}})],1)],1)],1),t._v(" "),i("b-table",{staticClass:"table nexus-table mt-2",attrs:{hover:"",borderless:"",items:t.activitiesTableData,"per-page":t.perPage,"current-page":t.currentPage,fields:t.tableFields},scopedSlots:t._u([{key:"cell(activityImage)",fn:function(e){return[i("img",{staticClass:"post-table-image",attrs:{src:e.value,with:"75",height:"75"},on:{click:function(i){return t.previewImage(e.value)}}})]}},{key:"cell(details)",fn:function(e){return[e.item.visible==t.$i18n.t("main.not visible")?i("span",{staticClass:"fas fa-broadcast-tower",attrs:{title:"Göster"},on:{click:function(i){return t.makeVisible(e)}}}):t._e(),t._v(" "),e.item.visible==t.$i18n.t("main.visible")?i("span",{staticClass:"fab fa-firstdraft mr-2 text-primary",attrs:{title:"Gösterme"},on:{click:function(i){return t.makeInvisible(e)}}}):t._e(),t._v(" "),e.item.status==t.$i18n.t("main.confirmed")?i("span",{staticClass:"fa fa-ban",attrs:{title:"Red"},on:{click:function(i){return t.unconfirmActivity(e)}}}):t._e(),t._v(" "),e.item.status==t.$i18n.t("main.unconfirmed")?i("span",{staticClass:"fa fa-check mr-2 text-primary",attrs:{title:"Onay"},on:{click:function(i){return t.confirmActivity(e)}}}):t._e(),t._v(" "),i("span",{staticClass:"far fa-edit mr-2 text-primary",attrs:{title:"Edit Post"},on:{click:function(i){return t.goToActivity(e)}}}),t._v(" "),i("span",{staticClass:"fas fa-times text-danger",attrs:{title:"Delete Post"},on:{click:function(i){return t.deleteActivity(e)}}})]}}])}),t._v(" "),i("b-row",[i("b-col",[i("div",{staticClass:"col-sm text-sm-left text-center mb-3 mb-sm-0"},[t.totalPages?i("span",{staticClass:"text-muted"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages))]):t._e()]),t._v(" "),i("div",{staticClass:"col-sm"},[t.totalItems?i("b-pagination",{staticClass:"justify-content-center justify-content-sm-end",attrs:{"total-rows":t.totalItems,"per-page":t.perPage,size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)])],1)],1)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.previewToggle,expression:"previewToggle"}],staticClass:"preview-container",on:{click:function(e){t.previewToggle=!1}}},[i("span",{staticClass:"close"},[t._v("×")]),t._v(" "),i("div",{attrs:{id:"preview"}},[i("img",{attrs:{src:t.previewImageUrl},on:{click:function(e){t.previewToggle=!1}}})]),t._v(" "),i("div",{staticClass:"caption"},[t._v("\n      "+t._s(t.previewImageName)+" \n    ")])])],1)},s=[],n=i("ade3"),l=(i("159b"),i("fb6a"),i("a434"),i("1276"),i("ac1f"),i("4de4"),i("c975"),i("a15b"),i("d81d"),i("bc3a")),r=i.n(l),c=i("c1df"),o=i.n(c);o.a.locale("tr");var v={name:"activities",metaInfo:{title:"Activities"},data:function(){var t;return t={activities:[],activitiesTableData:[],originalActivitiesTableData:[],previewImageUrl:null,previewImageName:"",previewToggle:!1},Object(n["a"])(t,"previewImageUrl",null),Object(n["a"])(t,"previewImageName",""),Object(n["a"])(t,"previewToggle",!1),Object(n["a"])(t,"perPageOptions",[2,4,6,8,10]),Object(n["a"])(t,"perPage",10),Object(n["a"])(t,"currentPage",1),t},computed:{tableFields:function(){return[{key:"activityImage",label:this.translateCol("activity image"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"Baslik",label:this.translateCol("activity name"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"owner",label:this.translateCol("creator"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"activityType",label:this.translateCol("activity category"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"startDate",label:this.translateCol("start date"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"endDate",label:this.translateCol("end date"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"status",label:this.translateCol("activity status"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"visible",label:this.translateCol("ad field"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"details",label:this.translateCol("details"),sortable:"true",class:"text-center align-middle"}]},totalItems:function(){return this.activitiesTableData.length},totalPages:function(){return Math.floor(this.totalItems/this.perPage)||(this.totalItems?1:0)}},created:function(){var t=this;r.a.post("https://defensehere.herokuapp.com/get_activities/",{}).then((function(e){console.log(e.data),t.activities=e.data,t.activities.forEach((function(e){var i={id:e._id.slice(-4),startDate:o()(e.startDate).format("DD/MM/YYYY, h:mm:ss a"),endDate:o()(e.endDate).format("DD/MM/YYYY, h:mm:ss a"),status:"confirmed"==e.status?t.$i18n.t("main.confirmed"):t.$i18n.t("main.unconfirmed"),owner:e.owner,position:e.activityPosition,visible:e.visible?t.$i18n.t("main.visible"):t.$i18n.t("main.not visible"),activityType:e.activityType,activityImage:"https://defensehere.herokuapp.com/images/"+e.activityImage,Baslik:e.activityTitle,details:e._id};t.activitiesTableData.push(i)})),t.originalActivitiesTableData=t.activitiesTableData}))},methods:{translateCol:function(t){return this.$i18n.t("activities."+t)},goToActivity:function(t){this.$router.push({name:"Activity",params:{id:t.value}})},confirmActivity:function(t){var e=this,i={id:t.value};console.log(i),r.a.post("https://defensehere.herokuapp.com/confirm_activity/",{data:i}).then((function(t){console.log(t.data),"success"==t.data&&(e.$notify({type:"success",text:"Etkinlik Onaylandi!"}),setTimeout((function(){location.reload()}),1600))}))},unconfirmActivity:function(t){var e=this,i={id:t.value};console.log(i),r.a.post("https://defensehere.herokuapp.com/unconfirm_activity/",{data:i}).then((function(t){console.log(t.data),"success"==t.data&&(e.$notify({type:"error",text:"Etkinlik Reddedildi!"}),setTimeout((function(){location.reload()}),1600))}))},makeVisible:function(t){var e=this,i={id:t.value};r.a.post("https://defensehere.herokuapp.com/activity_visible/",{data:i}).then((function(i){console.log(i.data),"success"==i.data&&(e.$notify({type:"success",text:"Etkinlik Gösteriliyor!"}),e.activitiesTableData[t.index].visible="Gösteriliyor")}))},makeInvisible:function(t){var e=this,i={id:t.value};r.a.post("https://defensehere.herokuapp.com/activity_invisible/",{data:i}).then((function(i){console.log(i.data),"success"==i.data&&(e.$notify({type:"error",text:"Etkinlik Gösterilmiyor!"}),e.activitiesTableData[t.index].visible="Gösterilmiyor")}))},deleteActivity:function(t){var e=this,i={id:t.value};r.a.post("https://defensehere.herokuapp.com/delete_activity/",{data:i}).then((function(i){console.log(i.data),"success"==i.data&&(e.$notify({type:"error",text:"Etkinlik Silindi!"}),e.activitiesTableData.splice(t.index,1))}))},previewImage:function(t){var e=this;e.previewToggle=!e.previewToggle,e.previewImageUrl&&(e.previewImageUrl=null),e.previewImageUrl=t,e.previewImageName=t.split("/").pop()},filter:function(t){var e=t.toLowerCase();console.log(t);var i=this.originalActivitiesTableData.filter((function(t){return-1!==Object.keys(t).map((function(e){return String(t[e])})).join("|").toLowerCase().indexOf(e)||!e}));this.activitiesTableData=i}}},d=v,u=(i("8078"),i("2877")),m=Object(u["a"])(d,a,s,!1,null,null,null);e["default"]=m.exports},ade3:function(t,e,i){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",(function(){return a}))}}]);
//# sourceMappingURL=chunk-49144d96.3ec8d557.js.map