(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-445459ba"],{"41e9":function(e,t,o){},"6c14":function(e,t,o){},"92b1":function(e,t,o){"use strict";o("6c14")},d287:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-row",[o("b-col",[o("h3",[e._v("Admin View/Update Order")])])],1),e._v(" "),o("b-row",[o("b-col",{attrs:{cols:"8"}},[o("b-row",[o("b-col",[o("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[o("b-card-header",{staticClass:"pb-0"},[o("h4",[e._v("Shipper Information")])]),e._v(" "),o("b-card-body",[o("b-form-row",[o("b-col",[o("b-form-group",{attrs:{label:"Select Shipper","label-size":"lg"}},[o("b-input",{attrs:{label:"Shipper",placeholder:"Shipper"},model:{value:e.shipperInfo.shipper,callback:function(t){e.$set(e.shipperInfo,"shipper",t)},expression:"shipperInfo.shipper"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Email","label-size":"lg"}},[o("b-input",{attrs:{label:"Email",placeholder:"Email"},model:{value:e.shipperInfo.email,callback:function(t){e.$set(e.shipperInfo,"email",t)},expression:"shipperInfo.email"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Address 1","label-size":"lg"}},[o("b-input",{attrs:{label:"Address 1",placeholder:"Address 1"},model:{value:e.shipperInfo.address1,callback:function(t){e.$set(e.shipperInfo,"address1",t)},expression:"shipperInfo.address1"}})],1)],1)],1),e._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",{attrs:{label:"First Name","label-size":"lg"}},[o("b-input",{attrs:{label:"First Name",placeholder:"First Name"},model:{value:e.shipperInfo.firstName,callback:function(t){e.$set(e.shipperInfo,"firstName",t)},expression:"shipperInfo.firstName"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Phone","label-size":"lg"}},[o("b-input",{attrs:{label:"Phone",placeholder:"Phone"},model:{value:e.shipperInfo.phone,callback:function(t){e.$set(e.shipperInfo,"phone",t)},expression:"shipperInfo.phone"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Address 2","label-size":"lg"}},[o("b-input",{attrs:{label:"Address 2",placeholder:"Address 2"},model:{value:e.shipperInfo.address2,callback:function(t){e.$set(e.shipperInfo,"address2",t)},expression:"shipperInfo.address2"}})],1)],1)],1),e._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",{attrs:{label:"Last Name","label-size":"lg"}},[o("b-input",{attrs:{label:"Last Name",placeholder:"Last Name"},model:{value:e.shipperInfo.lastName,callback:function(t){e.$set(e.shipperInfo,"lastName",t)},expression:"shipperInfo.lastName"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Mobile","label-size":"lg"}},[o("b-input",{attrs:{label:"Mobile",placeholder:"Mobile"},model:{value:e.shipperInfo.mobile,callback:function(t){e.$set(e.shipperInfo,"mobile",t)},expression:"shipperInfo.mobile"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"City","label-size":"lg"}},[o("b-input",{attrs:{label:"City",placeholder:"City"},model:{value:e.shipperInfo.city,callback:function(t){e.$set(e.shipperInfo,"city",t)},expression:"shipperInfo.city"}})],1)],1)],1),e._v(" "),o("b-form-row",[o("b-col",{attrs:{cols:"8"}},[o("b-form-group",{attrs:{label:"Company","label-size":"lg"}},[o("b-input",{attrs:{size:"lg",placeholder:""},model:{value:e.shipperInfo.company,callback:function(t){e.$set(e.shipperInfo,"company",t)},expression:"shipperInfo.company"}})],1)],1),e._v(" "),o("b-col",{attrs:{cols:"4"}},[o("b-form-group",{attrs:{label:"State/Zip","label-size":"lg"}},[o("b-input",{attrs:{size:"lg",placeholder:"State/Zip"},model:{value:e.shipperInfo.zip,callback:function(t){e.$set(e.shipperInfo,"zip",t)},expression:"shipperInfo.zip"}})],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),o("b-col",{staticClass:"quotes-box",attrs:{cols:"4"}},[o("b-row",[o("p",{staticClass:"quotes-title"},[e._v("Selected")])]),e._v(" "),e._l(e.quotes,(function(t){return o("b-row",{key:t._id,staticClass:"quote-container"},[o("i",{staticClass:"fas fa-trash-alt delete-icon",on:{click:function(o){return e.removeQuote(t._id)}}}),e._v(" "),o("b-row",{staticClass:"car-model-container"},[o("i",{staticClass:"fas fa-truck truck-icon"}),e._v(" "),o("p",{staticClass:"car-model"},[e._v(e._s(t.make)+" - "+e._s(t.model))])]),e._v(" "),o("b-row",{staticClass:"car-model-container"},[o("p",{staticClass:"quote-text"},[e._v("Price")]),e._v(" "),o("p",{staticClass:"quote-text"},[e._v("Your Margin")])]),e._v(" "),o("b-row",{staticClass:"car-model-container"},[o("p",{staticClass:"quote-text"},[e._v("$"+e._s(t.price))]),e._v(" "),o("p",{staticClass:"quote-text"},[e._v("$"+e._s(t.profit))])])],1)}))],2)],1),e._v(" "),o("b-row",[o("b-col",{attrs:{cols:"6"}},[o("b-row",[o("b-col",[o("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[o("b-card-header",{staticClass:"pb-0"},[o("h4",[e._v("Pick Contact & Location")])]),e._v(" "),o("b-card-body",[o("b-form-row",[o("b-col",{staticStyle:{"margin-bottom":"20px"},attrs:{cols:"4"}},[o("b-form-select",{attrs:{options:e.options},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1),e._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",{attrs:{label:"Address 1","label-size":"lg"}},[o("b-input",{attrs:{label:"Address 1",placeholder:"Address 1"},model:{value:e.pickupInfo.address1,callback:function(t){e.$set(e.pickupInfo,"address1",t)},expression:"pickupInfo.address1"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Contact Name","label-size":"lg"}},[o("b-input",{attrs:{label:"Contact Name",placeholder:"Contact Name"},model:{value:e.pickupInfo.contact,callback:function(t){e.$set(e.pickupInfo,"contact",t)},expression:"pickupInfo.contact"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Phone","label-size":"lg"}},[o("b-input",{attrs:{label:"Phone",placeholder:"Phone"},model:{value:e.pickupInfo.phone,callback:function(t){e.$set(e.pickupInfo,"phone",t)},expression:"pickupInfo.phone"}})],1)],1)],1),e._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",{attrs:{label:"Address 2","label-size":"lg"}},[o("b-input",{attrs:{label:"Address 2",placeholder:"Address 2"},model:{value:e.pickupInfo.address2,callback:function(t){e.$set(e.pickupInfo,"address2",t)},expression:"pickupInfo.address2"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Company Name","label-size":"lg"}},[o("b-input",{attrs:{label:"Company",placeholder:"Company"},model:{value:e.pickupInfo.company,callback:function(t){e.$set(e.pickupInfo,"company",t)},expression:"pickupInfo.company"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Mobile","label-size":"lg"}},[o("b-input",{attrs:{label:"Mobile",placeholder:"Mobile"},model:{value:e.pickupInfo.mobile,callback:function(t){e.$set(e.pickupInfo,"mobile",t)},expression:"pickupInfo.mobile"}})],1)],1)],1),e._v(" "),o("b-form-row",[o("b-col",{attrs:{cols:"4"}},[o("b-form-group",{attrs:{label:"City","label-size":"lg"}},[o("b-input",{attrs:{size:"lg",placeholder:"City"},model:{value:e.pickupInfo.city,callback:function(t){e.$set(e.pickupInfo,"city",t)},expression:"pickupInfo.city"}})],1)],1),e._v(" "),o("b-col",{attrs:{cols:"4"}},[o("b-form-group",{attrs:{label:"State/Zip","label-size":"lg"}},[o("b-input",{attrs:{size:"lg",placeholder:"State/Zip"},model:{value:e.pickupInfo.zip,callback:function(t){e.$set(e.pickupInfo,"zip",t)},expression:"pickupInfo.zip"}})],1)],1),e._v(" "),o("b-col",{attrs:{cols:"4"}},[o("b-form-group",{attrs:{label:"Buyer Number","label-size":"lg"}},[o("b-input",{attrs:{size:"lg",placeholder:"Buyer Number"},model:{value:e.pickupInfo.buyer,callback:function(t){e.$set(e.pickupInfo,"buyer",t)},expression:"pickupInfo.buyer"}})],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),o("b-col",{attrs:{cols:"6"}},[o("b-row",[o("b-col",[o("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[o("b-card-header",{staticClass:"pb-0"},[o("h4",[e._v("Delivery Contact & Location")])]),e._v(" "),o("b-card-body",[o("b-form-row",[o("b-col",{staticStyle:{"margin-bottom":"20px"},attrs:{cols:"4"}},[o("b-form-select",{attrs:{options:e.options},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1),e._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",{attrs:{label:"Address 1","label-size":"lg"}},[o("b-input",{attrs:{label:"Address 1",placeholder:"Address 1"},model:{value:e.deliveryInfo.address2,callback:function(t){e.$set(e.deliveryInfo,"address2",t)},expression:"deliveryInfo.address2"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Contact Name","label-size":"lg"}},[o("b-input",{attrs:{label:"Contact Name",placeholder:"Contact Name"},model:{value:e.deliveryInfo.contact,callback:function(t){e.$set(e.deliveryInfo,"contact",t)},expression:"deliveryInfo.contact"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Phone","label-size":"lg"}},[o("b-input",{attrs:{label:"Phone",placeholder:"Phone"},model:{value:e.deliveryInfo.phone,callback:function(t){e.$set(e.deliveryInfo,"phone",t)},expression:"deliveryInfo.phone"}})],1)],1)],1),e._v(" "),o("b-form-row",[o("b-col",[o("b-form-group",{attrs:{label:"Address 2","label-size":"lg"}},[o("b-input",{attrs:{label:"Address 2",placeholder:"Address 2"},model:{value:e.deliveryInfo.address2,callback:function(t){e.$set(e.deliveryInfo,"address2",t)},expression:"deliveryInfo.address2"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Company Name","label-size":"lg"}},[o("b-input",{attrs:{label:"Company",placeholder:"Company"},model:{value:e.deliveryInfo.company,callback:function(t){e.$set(e.deliveryInfo,"company",t)},expression:"deliveryInfo.company"}})],1)],1),e._v(" "),o("b-col",[o("b-form-group",{attrs:{label:"Mobile","label-size":"lg"}},[o("b-input",{attrs:{label:"Mobile",placeholder:"Mobile"},model:{value:e.deliveryInfo.mobile,callback:function(t){e.$set(e.deliveryInfo,"mobile",t)},expression:"deliveryInfo.mobile"}})],1)],1)],1),e._v(" "),o("b-form-row",[o("b-col",{attrs:{cols:"4"}},[o("b-form-group",{attrs:{label:"City","label-size":"lg"}},[o("b-input",{attrs:{size:"lg",placeholder:"City"},model:{value:e.deliveryInfo.city,callback:function(t){e.$set(e.deliveryInfo,"city",t)},expression:"deliveryInfo.city"}})],1)],1),e._v(" "),o("b-col",{attrs:{cols:"4"}},[o("b-form-group",{attrs:{label:"State/Zip","label-size":"lg"}},[o("b-input",{attrs:{size:"lg",placeholder:"State/Zip"},model:{value:e.deliveryInfo.zip,callback:function(t){e.$set(e.deliveryInfo,"zip",t)},expression:"deliveryInfo.zip"}})],1)],1),e._v(" "),o("b-col",{attrs:{cols:"4"}},[o("b-form-group",{attrs:{label:"Buyer Number","label-size":"lg"}},[o("b-input",{attrs:{size:"lg",placeholder:"Buyer Number"},model:{value:e.deliveryInfo.buyer,callback:function(t){e.$set(e.deliveryInfo,"buyer",t)},expression:"deliveryInfo.buyer"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),o("b-row",[o("b-col",[o("b-btn",{staticClass:"p-3 px-5 mt-4",staticStyle:{float:"right","margin-bottom":"15px"},attrs:{size:"lg",variant:"danger"},on:{click:function(t){return e.updateOrder(e.quotes)}}},[e._v("Update Order!")])],1)],1),e._v(" "),o("hr",{staticClass:"mt-4"}),e._v(" "),o("b-row",[o("b-col",[o("h3",[e._v("Latest Quotes")])])],1),e._v(" "),o("b-row",[o("b-col",[o("b-card",{staticClass:"mt-2",attrs:{"no-body":""}},[o("b-card-body",[o("div",[o("div",{staticClass:"row"},[o("div",{staticClass:"col"}),e._v(" "),o("div",{staticClass:"col"},[o("b-form-group",[o("b-input",{staticClass:"d-inline-block w-auto float-sm-right",attrs:{size:"sm",placeholder:"Search..."},on:{input:function(t){return e.filter(t)}}})],1)],1)]),e._v(" "),o("b-table",{ref:"myTable",attrs:{selectable:"",striped:e.striped,bordered:e.bordered,borderless:e.borderless,outlined:e.outlined,small:e.small,hover:e.hover,dark:e.dark,fixed:e.fixed,"foot-clone":e.footClone,"no-border-collapse":e.noCollapse,items:e.quotesTableData,fields:e.fields,"head-variant":e.headVariant,"table-variant":e.tableVariant},on:{"row-selected":e.rowSelected}}),e._v(" "),o("b-btn",{staticClass:"p-3 px-5 mt-4",staticStyle:{float:"right"},attrs:{size:"lg",variant:"warning"},on:{click:function(t){return e.addSelectedQuotes(e.selectedQuotes)}}},[e._v("Add Selected Quotes!")])],1)])],1)],1)],1)],1)},l=[],s=(o("159b"),o("fb6a"),o("2b0e")),r=o("bc3a"),i=o.n(r),n=o("049c"),c=o.n(n);o("c46f"),o("1157"),o("0969"),o("ff5a"),o("41e9");s["default"].use(i.a),i.a.defaults.withCredentials=!0,s["default"].use(c.a),s["default"].prototype.$http=i.a;var p={name:"orders",metaInfo:{title:"Orders"},data:function(){return{value:"",fields:[{key:"Id",sortable:!0},{key:"Created",sortable:!0},{key:"Assigned_To",sortable:!0},{key:"Shipper",sortable:!0},{key:"Vehicle",sortable:!0},{key:"Origin_Destination",sortable:!0},{key:"First_Avalaible",sortable:!0},{key:"Tariff",sortable:!0},{key:"Carrier_Pay",sortable:!0},{key:"Status",sortable:!0}],originalQuotesTableData:[],loading:!1,src:"https://typeahead-js-twitter-api-proxy.herokuapp.com/demo/search",limit:5,minChars:3,zipCode:"",city:"",state:"",dZipCode:"",dCity:"",dState:"",year:null,carModel:"",make:"",address:"",customers:[],ownerEmail:"",owner:"",orders:[],quotes:[],prices:[{text:"Economy",value:"0"},{text:"Standard",value:"1"},{text:"Expedited",value:"2"}],selected:null,options:[{value:null,text:"New Contact"},{value:"0",text:"Contact 1"},{value:"1",text:"Contact 2"}],selectedPriceOption:"",profit:0,items:{value:"",text:""},shipperInfo:{shipper:"",email:"",address1:"",address2:"",firstName:"",lastName:"",phone:"",mobile:"",city:"",zip:0,company:""},pickupInfo:{address1:"",address2:"",contact:"",phone:"",mobile:"",city:"",zip:0,buyerNumber:"",company:""},deliveryInfo:{address1:"",address2:"",contact:"",phone:"",mobile:"",city:"",zip:0,buyerNumber:"",company:""},striped:!1,bordered:!1,borderless:!1,outlined:!0,small:!1,hover:!0,dark:!1,fixed:!1,footClone:!1,headVariant:"light",tableVariant:"",noCollapse:!1,quotesTableData:[],selectedQuotes:[],quotesData:[]}},mounted:function(){var e=this,t={};t.id=e.$route.params.id,i.a.post("https://defensehere.herokuapp.com/get_order",{data:t}).then((function(t){var o=t.data;e.deliveryInfo=o.deliveryInfo,e.shipperInfo=o.shipperInfo,e.pickupInfo=o.pickupInfo,o.quotes.forEach((function(t){var o={};o.id=t,i.a.post("https://defensehere.herokuapp.com/get_quote_by_id",{data:o}).then((function(t){e.quotes.push(t.data[0])}),(function(e){}))}))}),(function(e){}))},created:function(){var e=this;i.a.get("https://defensehere.herokuapp.com/user").then((function(t){var o=t.data;e.profit=o.defaultProfit,e.owner=o._id,e.ownerEmail=o.email}),(function(e){})),i.a.post("https://defensehere.herokuapp.com/get_quotes/").then((function(t){var o=t.data;e.quotesData=o,o.forEach((function(t){var o={Id:t._id.slice(-4),Created:"----",Assigned_To:t.ownerEmail,Origin_Destination:t.destinationZipCode,First_Avalaible:"----",Tariff:"$"+t.profit,Carrier_Pay:"$"+t.price,Status:"active",Shipper:t.ownerEmail,Vehicle:t.vin};e.quotesTableData.push(o)})),e.originalQuotesTableData=e.quotesTableData}))},methods:{removeQuote:function(e){var t=this;console.log(t.quotes);var o=[];t.quotes.forEach((function(t){t._id!=e&&o.push(t)})),t.quotes=o,this.$nextTick()},addSelectedQuotes:function(e){var t=this;e.forEach((function(e){t.quotesData.forEach((function(o){o._id.slice(-4)==e.Id&&t.quotes.push(o)}))}))},updateOrder:function(e){var t=this,o={};o.quotes=e,o.ownerEmail=t.ownerEmail,o.owner=t.owner,o.shipperInfo=t.shipperInfo,o.deliveryInfo=t.deliveryInfo,o.pickupInfo=t.pickupInfo;var a=0,l=0;o.quotes.forEach((function(e){a+=e.price,l+=e.profit})),o.cost=a,o.profit=l,o.id=t.$route.params.id,console.log(o),i.a.post("https://defensehere.herokuapp.com/update_order/",{data:o}).then((function(e){console.log(e.data)}),(function(e){}))},rowSelected:function(e){this.selectedQuotes=e,console.log(e)},clickRows:function(e){var t=this.$refs.myTable.$el,o=t.getElementsByTagName("tbody")[0],a=o.getElementsByTagName("tr");e.forEach((function(e){a[e].click()}))}}},b=p,d=(o("92b1"),o("2877")),u=Object(d["a"])(b,a,l,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-445459ba.7e911f61.js.map