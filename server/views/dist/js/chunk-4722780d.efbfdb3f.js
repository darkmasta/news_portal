(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4722780d"],{"3b4f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h2",{staticStyle:{"text-decoration":"underline"}},[t._v("Create Post")]),t._v(" "),a("span",{staticClass:"info_message"},[t._v(t._s(t.info_message))])])]),t._v(" "),a("div",{staticClass:"nav-tabs-left"},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"edit"==t.expandTab},attrs:{"data-toggle":"tab",href:"#"},on:{click:function(e){t.expandTab="edit"}}},[t._v("Edit Tarihi")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"categories"==t.expandTab},attrs:{"data-toggle":"tab",href:"#"},on:{click:function(e){t.expandTab="categories"}}},[t._v("Kategoriler")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"postImage"==t.expandTab},attrs:{"data-toggle":"tab",href:"#"},on:{click:function(e){t.expandTab="postImage"}}},[t._v("Haber Resmi")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"postLinks"==t.expandTab},attrs:{"data-toggle":"tab",href:"#"},on:{click:function(e){t.expandTab="postLinks"}}},[t._v("Haber Linkleri")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"languages"==t.expandTab},attrs:{"data-toggle":"tab",href:"#"},on:{click:function(e){t.expandTab="languages"}}},[t._v("Haber Dilleri")])])]),t._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade",class:{active:"edit"==t.expandTab,show:"edit"==t.expandTab},attrs:{id:"navs-left-home"}},[a("b-row",{staticClass:"edit_log"},[a("b-col",{staticClass:"offset-3 mt-2",attrs:{cols:"6"}},[a("h3",[t._v("Edit Tarihi")])]),t._v(" "),t._l(t.editLogs,(function(e,s){return a("b-col",{key:s,staticClass:"ml-2",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Edit Log"}},[a("b-form-input",{model:{value:e.editText,callback:function(a){t.$set(e,"editText",a)},expression:"log.editText"}}),t._v(" "),a("b-form-input",{attrs:{value:e.editor,disabled:""}}),t._v(" "),a("div",{staticClass:"edit_buttons"},[a("span",{staticClass:"fas fa-times",on:{click:function(e){return t.removeLog(s)}}}),t._v(" "),a("span",{staticClass:"far fa-edit",on:{click:function(e){return t.editLog(s)}}})])],1)],1)}))],2)],1),t._v(" "),a("div",{staticClass:"tab-pane fade ",class:{active:"categories"==t.expandTab,show:"categories"==t.expandTab},attrs:{id:"navs-left-profile"}},[a("b-row",{staticClass:"edit_log"},[a("b-col",{staticClass:"categories__container"},t._l(t.categoryTitles,(function(e,s){return a("div",{key:s,staticClass:"categories__single-category",class:{expand_category:t.clickedCategory==s,collapse_category:t.clickedCategory!=s}},[a("h3",{staticClass:"category__title",on:{click:function(e){return t.clickCategory(s)}}},[t._v(t._s(e))]),t._v(" "),a("ul",{staticClass:"category__list"},t._l(t.categoriesData[e],(function(e,s){return a("li",{key:s,staticClass:"category__list-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategories,expression:"selectedCategories"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.selectedCategories)?t._i(t.selectedCategories,e)>-1:t.selectedCategories},on:{change:function(a){var s=t.selectedCategories,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=e,r=t._i(s,n);i.checked?r<0&&(t.selectedCategories=s.concat([n])):r>-1&&(t.selectedCategories=s.slice(0,r).concat(s.slice(r+1)))}else t.selectedCategories=o}}}),t._v(" \n                  "+t._s(e)+"\n                ")])})),0)])})),0)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"mt-2 mb-2",attrs:{cols:"12"}},[a("span",[t._v("Selected Categories: ")]),t._v(t._s(t.selectedCategories)+"\n            ")])],1)],1),t._v(" "),a("div",{staticClass:"tab-pane fade images_tab",class:{active:"postImage"==t.expandTab,show:"postImage"==t.expandTab},attrs:{id:"navs-left-messages"}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-col",{staticClass:"offset-5 mt-3 kategoriler",attrs:{cols:"6"}},[a("h3",[t._v("Haber Resmi")])]),t._v(" "),a("div",{staticClass:"upload-example"},[a("div",[a("cropper",{ref:"cropper",attrs:{src:t.image,transitions:!0}})],1),t._v(" "),a("div",{staticClass:"reset-button",attrs:{title:"Reset Image"},on:{click:function(e){return t.reset()}}},[a("i",{staticClass:"fa fa-times"})]),t._v(" "),a("div",{staticClass:"get-image-button",attrs:{title:"Get Image"}},[a("i",{staticClass:"fas fa-download"})]),t._v(" "),a("div",{staticClass:"img-name-text",attrs:{title:"Image Name"}},[t._v("\n              "+t._s(t.imageName)+"\n            ")]),t._v(" "),a("b-col",{attrs:{cols:"6",offset:"3"}},[a("div",{staticClass:"img-name"},[a("b-form-group",{attrs:{label:"Foto Ismi"}},[a("b-form-input",{attrs:{placeholder:"Foto Ismi"},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}})],1)],1)]),t._v(" "),a("div",{staticClass:"button-wrapper"},[a("span",{staticClass:"button",on:{click:function(e){return t.$refs.file.click()}}},[a("input",{ref:"file",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.loadImage(e)}}}),t._v("\n              Load image\n            ")]),t._v(" "),a("span",{staticClass:"button ml-5",on:{click:t.crop}},[t._v("\n              Crop \n            ")]),t._v(" "),a("label",{staticClass:"switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.toggleEditImage,expression:"toggleEditImage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.toggleEditImage)?t._i(t.toggleEditImage,null)>-1:t.toggleEditImage},on:{change:function(e){var a=t.toggleEditImage,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=t._i(a,o);s.checked?n<0&&(t.toggleEditImage=a.concat([o])):n>-1&&(t.toggleEditImage=a.slice(0,n).concat(a.slice(n+1)))}else t.toggleEditImage=i}}}),t._v(" "),a("span",{staticClass:"slider round"}),t._v(" "),a("span",{staticClass:"switch_text",class:{switch_closed:t.toggleEditImage}},[t._v("Resmi Duzenle")])])])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"tab-pane fade",class:{active:"postLinks"==t.expandTab,show:"postLinks"==t.expandTab},attrs:{id:"navs-left-messages"}},[a("b-row",[a("b-row",[a("b-col",{staticClass:"publish_date_box mt-4 ml-3",attrs:{cols:"12"}},[a("b-col",{staticClass:"offset-6",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Haber Basligi"}},[a("b-form-input",{model:{value:t.postTitle,callback:function(e){t.postTitle=e},expression:"postTitle"}})],1)],1),t._v(" "),a("b-col",{attrs:{cols:"3"}},[a("b-form-group",{attrs:{label:"Yayinlanma Tarihi"}},[a("datepicker",{attrs:{"bootstrap-styling":!0,"monday-first":!0,"full-month-name":!0,placeholder:"Yayin Tarihi"},model:{value:t.publishDate,callback:function(e){t.publishDate=e},expression:"publishDate"}})],1)],1),t._v(" "),a("b-col",{attrs:{cols:"3"}},[a("b-form-group",{attrs:{label:"Yayinlanma Saati"}},[a("vue-timepicker",{attrs:{"close-on-complete":""},model:{value:t.publishHour,callback:function(e){t.publishHour=e},expression:"publishHour"}})],1)],1)],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-form-group",{attrs:{label:"Haber Dili"}},[a("b-select",{model:{value:t.postLanguage,callback:function(e){t.postLanguage=e},expression:"postLanguage"}},t._l(t.languages,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(" \n                    "+t._s(e)+"\n                ")])})),0)],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Haber URL'si"}},[a("b-form-input",{model:{value:t.postCustomUrl,callback:function(e){t.postCustomUrl=e},expression:"postCustomUrl"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Haber Anahtar Kelimeler"}},[a("b-form-input",{model:{value:t.postKeywords,callback:function(e){t.postKeywords=e},expression:"postKeywords"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Seo Anahtar Kelimeler"}},[a("b-form-input",{model:{value:t.postSeoWords,callback:function(e){t.postSeoWords=e},expression:"postSeoWords"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Seo Url Adresi"}},[a("b-form-input",{model:{value:t.postSeoUrl,callback:function(e){t.postSeoUrl=e},expression:"postSeoUrl"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1 mb-3",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Seo Baslik Aciklamasi"}},[a("b-form-input",{model:{value:t.postSeoHeader,callback:function(e){t.postSeoHeader=e},expression:"postSeoHeader"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"tab-pane fade ",class:{active:"languages"==t.expandTab,show:"languages"==t.expandTab},attrs:{id:"navs-left-profile"}},[a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Baglantili Ingilizce Haber ðŸ‡¬ðŸ‡§"}},[a("b-form-input",{model:{value:t.postEnglishLink,callback:function(e){t.postEnglishLink=e},expression:"postEnglishLink"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Baglantili Arapca Haber ðŸ‡¸ðŸ‡¦"}},[a("b-form-input",{model:{value:t.postArabicLink,callback:function(e){t.postArabicLink=e},expression:"postArabicLink"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Baglantili Rusca Haber ðŸ‡·ðŸ‡º"}},[a("b-form-input",{model:{value:t.postRussianLink,callback:function(e){t.postRussianLink=e},expression:"postRussianLink"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Baglantili Ukraynaca Haber ðŸ‡ºðŸ‡¦"}},[a("b-form-input",{model:{value:t.postUkranianLink,callback:function(e){t.postUkranianLink=e},expression:"postUkranianLink"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"offset-1",attrs:{cols:"10"}},[a("b-input-group",{staticClass:"mt-2",attrs:{prepend:"Baglantili Fransizca Haber ðŸ‡«ðŸ‡·"}},[a("b-form-input",{model:{value:t.postFrenchLink,callback:function(e){t.postFrenchLink=e},expression:"postFrenchLink"}})],1)],1)],1)],1)])]),t._v(" "),a("div",{staticClass:"divider mt-4 mb-4"}),t._v(" "),a("b-row",[a("b-col",[a("div",{staticClass:"editor-center mt-2"},[a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.editorData,callback:function(e){t.editorData=e},expression:"editorData"}})],1)])],1),t._v(" "),a("b-row",{staticClass:"mt-4"},[a("b-col",{attrs:{offset:"9"}},[a("b-btn",{staticClass:"new-post-btn",attrs:{variant:"primary rounded-pill"},on:{click:t.submitPost}},[a("span",{staticClass:"fas fa-plus-circle"}),t._v(" Haberi Kaydet\n       ")])],1)],1)],1)},i=[],o=a("2909"),n=(a("159b"),a("6062"),a("d3b7"),a("3ca3"),a("ddb0"),a("1276"),a("ac1f"),a("b0c0"),a("2b0e")),r=a("bc3a"),l=a.n(r),c=(a("c46f"),a("a2c1")),p=(a("f7aa"),a("fa33")),d=a("97fc"),g=a.n(d),u=(a("1e11"),a("9da1")),m=a("fb3d"),b=a.n(m),f=a("6930"),v=a.n(f);n["default"].use(v.a);var h={name:"PostsCreate",components:{Cropper:c["a"],Datepicker:p["a"],VueTimepicker:g.a},data:function(){return{languages:["Turkce ðŸ‡¹ðŸ‡·","Ingilizce ðŸ‡¬ðŸ‡§","Fransizca ðŸ‡«ðŸ‡·","Arapca ðŸ‡¸ðŸ‡¦","Ukraynaca ðŸ‡ºðŸ‡¦"],categoriesData:{},postLanguage:"",expandTab:"",info_message:"",editLogs:[""],clickedCategory:void 0,toggleEditImage:!1,secondTryForBugFix:!1,saveAsDraft:!1,categoryTitles:[],selectedCategories:[],postTitle:"",editor:b.a,editorData:"<p>Content of the editor.</p>",editorConfig:{},coordinates:{width:0,height:0,left:0,top:0},result:{coordinates:null,image:null},base64:"",message:"",file:null,image:null,imageWidth:0,imageHeight:0,imageName:"",postCustomUrl:"",publishDate:"",owner:"",publishHour:"",postKeywords:"",postSeoWords:"",postSeoUrl:"",postSeoHeader:"",postEnglishLink:"",postArabicLink:"",postRussianLink:"",postUkranianLink:"",postFrenchLink:""}},created:function(){var t=this;t.categoryTitles=Object.keys(u["a"]),l.a.post("https://defensehere.herokuapp.com/get_categories/",{}).then((function(e){t.categoriesData=e.data[0],console.log(t.categoriesData.updatedCategories),t.categoriesData.updatedCategories.forEach((function(e){t.categoryTitles.push(e.topCategory)}));var a=Object(o["a"])(new Set(t.categoryTitles));t.categoryTitles=a,t.categoriesData.updatedCategories.forEach((function(e){t.categoriesData[e.topCategory]?t.categoriesData[e.topCategory].push(e.bottomCategory):(t.categoriesData[e.topCategory]=new Array,""==!e.bottomCategory&&t.categoriesData[e.topCategory].push(e.bottomCategory))}))})),t.owner=this.$store.getters.getUser},methods:{submitPost:function(){var t=this,e=this,a=this.$refs.cropper.getResult(),s=a.coordinates,i=a.canvas;if(i&&void 0!=i){if(e.toggleEditImage&&i){new FormData;i.toBlob((function(t){e.blobToBase64(t).then((function(t){var a=new FormData;t||e.$notify({type:"success",text:"Haber resmi bos olamaz"}),e.imageName&&""!=e.imageName?e.publishDate&&""!=e.publishDate?e.postTitle&&""!=e.postTitle?(a.append("file",t),a.append("fileName",e.imageName),a.append("toggleEditImage",e.toggleEditImage),a.append("editorData",e.editorData),a.append("postTitle",e.postTitle),a.append("categories",e.selectedCategories),a.append("publishDate",e.publishDate),a.append("publishHour",e.publishHour),a.append("postKeywords",e.postKeywords),a.append("postCustomUrl",e.postCustomUrl),a.append("postSeoWords",e.postSeoWords),a.append("postSeoUrl",e.postSeoUrl),a.append("postSeoHeader",e.postSeoHeader),a.append("postEnglishLink",e.postEnglishLink),a.append("postArabicLink",e.postArabicLink),a.append("postRussianLink",e.postRussianLink),a.append("postUkranianLink",e.postUkranianLink),a.append("postFrenchLink",e.postFrenchLink),a.append("postLanguage",e.postLanguage),a.append("owner",e.owner),l.a.post("https://defensehere.herokuapp.com/create_post/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var a=t.data;console.log(a),"success"==t.data&&e.$notify({type:"success",text:"Haber Resmi Yuklendi!"})}))):e.$notify({type:"warn",text:"Haber Basligi Bos Olamaz"}):e.$notify({type:"warn",text:"Haber Tarihi Bos Olamaz"}):e.$notify({type:"warn",text:"Lutfen Resim Ismi Giriniz"})}))}),"image/jpeg")}else if(0==this.toggleEditImage&&0==this.secondTryForBugFix)this.$refs.cropper.setCoordinates({width:e.imageWidth,height:e.imageHeight,left:0,top:0}),this.$refs.cropper.setCoordinates((function(t){t.coordinates;var e=t.imageSize;return{width:e.width,height:e.height}})),e.secondTryForBugFix=!0,e.$notify({type:"warn",text:"Resim hazirlaniyor, lutfen tekrar deneyin"});else if(0==this.toggleEditImage&&1==this.secondTryForBugFix){if(!i||void 0==i)return void e.$notify({type:"success",text:"Haber resmi bos olamaz"});i.toBlob((function(a){e.blobToBase64(a).then((function(a){console.log(s);var i=new FormData;i.append("file",a),a&&void 0!=a?e.imageName&&""!=e.imageName?e.publishDate&&""!=e.publishDate?e.postTitle&&""!=e.postTitle?(i.append("fileName",e.imageName),i.append("toggleEditImage",e.toggleEditImage),i.append("editorData",e.editorData),i.append("postTitle",e.postTitle),i.append("categories",e.selectedCategories),i.append("publishDate",e.publishDate),i.append("publishHour",e.publishHour),i.append("postKeywords",e.postKeywords),i.append("postCustomUrl",e.postCustomUrl),i.append("postSeoWords",e.postSeoWords),i.append("postSeoUrl",e.postSeoUrl),i.append("postSeoHeader",e.postSeoHeader),i.append("postEnglishLink",e.postEnglishLink),i.append("postArabicLink",e.postArabicLink),i.append("postLanguage",e.postLanguage),i.append("owner",e.owner),i.append("postRussianLink",e.postRussianLink),i.append("postUkranianLink",e.postUkranianLink),i.append("postFrenchLink",e.postFrenchLink),l.a.post("https://defensehere.herokuapp.com/create_post/",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){var s=a.data;console.log(s),"success"==a.data&&(t.secondTryForBugFix=!1,e.$notify({type:"success",text:"Haber Resmi Yuklendi!"}))}))):e.$notify({type:"warn",text:"Haber Basligi Bos Olamaz"}):e.$notify({type:"warn",text:"Haber Tarihi Bos Olamaz"}):e.$notify({type:"warn",text:"Lutfen Resim Ismi Giriniz"}):e.$notify({type:"warn",text:"Haber resmi bos olamaz"})}))}),"image/jpeg")}}else e.$notify({type:"success",text:"Haber resmi bos olamaz"})},updateSize:function(t){var e=t.coordinates;this.size.width=Math.round(e.width),this.size.height=Math.round(e.height)},crop:function(){var t=this.$refs.cropper.getResult(),e=t.coordinates,a=t.canvas;this.coordinates=e,this.image=a.toDataURL()},reset:function(){this.image=null},loadImage:function(t){var e=this,a=t.target,s=this;if(a.files&&a.files[0]){console.log(a.files[0]);var i=new FileReader,o=new FileReader;o.onload=function(){var t=new Image;t.onload=function(){s.imageWidth=t.width,s.imageHeight=t.height},t.src=o.result},o.readAsDataURL(a.files[0]),i.onload=function(t){e.image=t.target.result,e.base64=e.image},i.readAsDataURL(a.files[0])}},blobToBase64:function(t){var e=new FileReader;return e.readAsDataURL(t),new Promise((function(t){e.onloadend=function(){t(e.result)}}))},uploadImage:function(){var t=this,e=this,a=this.$refs.cropper.getResult(),s=a.canvas;if(s){var i=this.$refs.file.files[0],o=new FormData;s.toBlob((function(a){t.blobToBase64(a).then((function(t){o.append("file",t),o.append("fileName",i.name.split(".").shift()),o.append("editorData",e.editorData),o.append("postTitle",e.postTitle),o.append("categories",e.selectedCategories),l.a.post("https://defensehere.herokuapp.com/create_post",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),"success"==t.data&&e.$notify({type:"success",text:"Haber Resmi Yuklendi!"})}),(function(t){console.log(t)}))}))}),"image/jpeg")}},clickCategory:function(t){var e=this;e.clickedCategory==t?e.clickedCategory=100:e.clickedCategory=t}}},C=h,k=(a("f67c"),a("2877")),_=Object(k["a"])(C,s,i,!1,null,null,null);e["default"]=_.exports},de44:function(t,e,a){},f67c:function(t,e,a){"use strict";a("de44")}}]);
//# sourceMappingURL=chunk-4722780d.efbfdb3f.js.map