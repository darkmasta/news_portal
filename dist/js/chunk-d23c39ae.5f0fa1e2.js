(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d23c39ae"],{1959:function(t,e,a){},"263d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",{staticClass:"d-flex justify-content-between "},[a("div",{staticClass:"page-header"},[a("h4",[t._v(t._s(t.$t("posts.post list")))])]),t._v(" "),a("b-btn",{staticClass:"align-self-start",attrs:{variant:"primary rounded-pill",to:"/posts/create"}},[a("span",{staticClass:"fas fa-plus-circle"}),t._v(" "+t._s(t.$t("posts.create post")))])],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-form-group",[a("b-input",{staticClass:"d-inline-block w-auto float-sm-right",attrs:{size:"sm",placeholder:"Search..."},on:{input:function(e){return t.filter(e)}}})],1)],1)]),t._v(" "),a("b-table",{ref:"myTable",staticClass:"table nexus-table",attrs:{hover:"",selectable:"",borderless:"",items:t.postsTableData,"current-page":t.currentPage,"per-page":t.perPage,fields:t.tableFields},on:{"row-selected":t.rowSelected},scopedSlots:t._u([{key:"cell(postImage)",fn:function(e){return[a("img",{staticClass:"post-table-image",attrs:{src:e.value,with:"75",height:"75"},on:{click:function(a){return t.previewImage(e.value)}}})]}},{key:"cell(details)",fn:function(e){return["Taslak"==e.item.status?a("span",{staticClass:"fas fa-broadcast-tower",attrs:{title:"Publish"},on:{click:function(a){return t.goToPostLink(e)}}}):t._e(),t._v(" "),"Aktif"==e.item.status?a("span",{staticClass:"fab fa-firstdraft mr-2 text-primary",attrs:{title:"Draft"},on:{click:function(a){return t.goToPostLink(e)}}}):t._e(),t._v(" "),a("span",{staticClass:"far fa-edit mr-2 text-primary",attrs:{title:"Edit Post"},on:{click:function(a){return t.goToPost(e)}}}),t._v(" "),a("span",{staticClass:"fas fa-times text-danger",attrs:{title:"Delete Post"},on:{click:function(a){return t.deletePost(e)}}})]}}])}),t._v(" "),a("b-row",[a("b-col",[a("div",{staticClass:"col-sm text-sm-left text-center mb-3 mb-sm-0"},[t.totalPages?a("span",{staticClass:"text-muted"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm"},[t.totalItems?a("b-pagination",{staticClass:"justify-content-center justify-content-sm-end",attrs:{"total-rows":t.totalItems,"per-page":t.perPage,size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e(),t._v(" "),a("nav",{staticClass:"second-pagination"},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.currentBigPage=t.currentBigPage-100}}},[t._v("Previous")])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.currentBigPage=t.currentBigPage-100}}},[t._v(t._s(t.currentBigPage-100))])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link active",attrs:{href:"#"}},[t._v(t._s(t.currentBigPage))])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.currentBigPage=t.currentBigPage+100}}},[t._v(t._s(t.currentBigPage+100))])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.currentBigPage=t.currentBigPage+200}}},[t._v(t._s(t.currentBigPage+200))])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.currentBigPage=t.currentBigPage+100}}},[t._v("Next")])])])])],1)])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.previewToggle,expression:"previewToggle"}],staticClass:"preview-container",on:{click:function(e){t.previewToggle=!1}}},[a("span",{staticClass:"close"},[t._v("Ã—")]),t._v(" "),a("div",{attrs:{id:"preview"}},[a("img",{staticClass:"preview-image",attrs:{src:t.previewImageUrl},on:{click:function(e){t.previewToggle=!1}}})]),t._v(" "),a("div",{staticClass:"caption"},[t._v("\n    "+t._s(t.previewImageName)+" \n  ")])])],1)},i=[],r=(a("159b"),a("fb6a"),a("1276"),a("ac1f"),a("4de4"),a("c975"),a("a15b"),a("d81d"),a("bc3a")),o=a.n(r),l=a("c1df"),n=a.n(l);a("41e9");n.a.locale("tr");var c={name:"posts",metaInfo:{title:"Posts"},data:function(){return{posts:[],postsTableData:[],previewImageUrl:null,previewImageName:"",previewToggle:!1,selectedRows:[],perPage:10,currentPage:1,currentBigPage:100}},computed:{tableFields:function(){return[{key:"order",label:this.translateCol("post order"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"postImage",label:this.translateCol("post image"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"Baslik",label:this.translateCol("post header"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"date",label:this.translateCol("creation date"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"owner",label:this.translateCol("creator"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"views",label:this.translateCol("reads"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"language",label:this.translateCol("languages"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"status",label:this.translateCol("status"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"},{key:"details",label:this.translateCol("details"),sortable:!0,sortDirection:"desc",class:"text-center align-middle"}]},totalItems:function(){return this.postsTableData.length},totalPages:function(){return Math.floor(this.totalItems/this.perPage)||(this.totalItems?1:0)}},watch:{currentBigPage:function(t,e){var a=this;if(t<=100)a.currentBigPage=100;else if(t>100){var s=Math.floor(a.currentBigPage/100),i={page:s};console.log(s),o.a.post("https://defensehere.herokuapp.com/get_posts/",{data:i}).then((function(t){console.log(t.data),a.posts=t.data,a.posts.forEach((function(t){var e={id:t._id.slice(-4),date:n()(t.date).format("DD/MM/YYYY, h:mm:ss a"),status:t.isDraft?"Taslak":"Aktif",postImage:"https://defensehere.herokuapp.com/images/"+t.postImage,Baslik:t.postTitle,details:t._id,order:t.postOrder||"---",owner:t.owner||"---",views:""+t.views||"---",language:String(null===t||void 0===t?void 0:t.postLanguage).slice(-4)||"---"};a.postsTableData.push(e)})),a.originalPostsTableData=a.postsTableData}))}}},created:function(){var t=this,e={page:0};o.a.post("https://defensehere.herokuapp.com/get_posts/",{data:e}).then((function(e){console.log(e.data),t.posts=e.data,t.posts.forEach((function(e){var a={id:e._id.slice(-4),date:n()(e.date).format("DD/MM/YYYY, h:mm:ss a"),status:e.isDraft?"Taslak":"Aktif",postImage:"https://defensehere.herokuapp.com/images/"+e.postImage,Baslik:e.postTitle,details:e._id,order:e.postOrder||"---",owner:e.owner||"---",views:""+e.views||"---",language:String(null===e||void 0===e?void 0:e.postLanguage).slice(-4)||"---"};t.postsTableData.push(a)})),t.originalPostsTableData=t.postsTableData}))},methods:{translateCol:function(t){return this.$i18n.t("posts."+t)},rowSelected:function(t){this.selectedRows=t,console.log(t)},goToPost:function(){var t=this,e=[];t.selectedRows.forEach((function(a){console.log(a),t.posts.forEach((function(t){t._id.slice(-4)==a.id&&e.push(t)}))})),1==e.length&&(console.log(e),this.$router.push({name:"Posts Edit",params:{id:e[0]._id}}))},deletePost:function(t){if(confirm("Haber Siliniyor. Emin Misiniz?")){var e=this,a={};a.id=t.value,o.a.post("https://defensehere.herokuapp.com/delete_post",{data:a}).then((function(t){console.log(t.data),"success"==t.data&&e.$notify({type:"success",text:"Haber Basariyle Silindi!"})}))}},goToPostLink:function(t){console.log(t);var e=this.$router.resolve({name:"Post",params:{id:t.value}});window.open(e.href,"_blank")},clickRows:function(t){var e=this.$refs.myTable.$el,a=e.getElementsByTagName("tbody")[0],s=a.getElementsByTagName("tr");t.forEach((function(t){s[t].click()})),console.log("items")},previewImage:function(t){var e=this;e.previewToggle=!e.previewToggle,e.previewImageUrl&&(e.previewImageUrl=null),e.previewImageUrl=t,e.previewImageName=t.split("/").pop()},filter:function(t){var e=t.toLowerCase(),a=this.originalPostsTableData.filter((function(t){return-1!==Object.keys(t).map((function(e){return String(t[e])})).join("|").toLowerCase().indexOf(e)||!e}));this.postsTableData=a}}},g=c,p=(a("7991"),a("2877")),u=Object(p["a"])(g,s,i,!1,null,"74eb314c",null);e["default"]=u.exports},"41e9":function(t,e,a){},7991:function(t,e,a){"use strict";a("1959")}}]);
//# sourceMappingURL=chunk-d23c39ae.5f0fa1e2.js.map